{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Book By Click","text":"<p>Book By Click est un syst\u00e8me de r\u00e9servation en ligne permettant aux clients de prendre rendez-vous avec des entreprises partenaires.</p> <p>Projet GitHub : https://github.com/TISEPSE/Book-By-Click.git</p>"},{"location":"#technologies","title":"Technologies","text":"<ul> <li>Frontend : React 19, Vite, Tailwind CSS 4, React Router 7</li> <li>Backend : Flask, PostgreSQL 15, SQLAlchemy</li> <li>Infrastructure : Docker, Docker Compose</li> </ul>"},{"location":"#installation","title":"Installation","text":"<pre><code># Cloner le projet\ngit clone https://github.com/TISEPSE/Book-By-Click.git\ncd Book-By-Click\n\n# Installer les d\u00e9pendances frontend\nnpm install\n\n# Installer les d\u00e9pendances backend\ncd Backend\npython -m venv ../venv\nsource ../venv/bin/activate  # Linux/Mac\npip install -r requirements.txt\n\n# Lancer l'application\ncd ..\nnpm run dev:lin  # Linux/Mac\n# ou npm run dev:win  # Windows\n</code></pre> <p>URLs : - Frontend : http://localhost:5173 - Backend : http://localhost:5000</p>"},{"location":"#documentation","title":"Documentation","text":"<ul> <li>Installation - Guide d'installation complet</li> <li>API - Endpoints et exemples</li> <li>Architecture - Structure technique du projet</li> <li>D\u00e9veloppement - Guide pour d\u00e9veloppeurs</li> <li>D\u00e9ploiement - Mise en production</li> </ul>"},{"location":"deployment/","title":"Guide de d\u00e9ploiement","text":"<p>Guide de d\u00e9ploiement de Book By Click en production.</p> <p>Projet GitHub : https://github.com/TISEPSE/Book-By-Click.git</p>"},{"location":"deployment/#vue-densemble","title":"Vue d'ensemble","text":"<pre><code>graph TB\n    A[Code Source] --&gt; B[Build Frontend]\n    A --&gt; C[Backend Flask]\n    B --&gt; D[Serveur Web]\n    C --&gt; D\n    D --&gt; F[Internet]\n    G[(PostgreSQL)] --&gt; C\n    H[SMTP] --&gt; C\n\n    style A fill:#61dafb\n    style D fill:#10b981\n    style C fill:#000\n    style G fill:#4479a1</code></pre>"},{"location":"deployment/#prerequis","title":"Pr\u00e9requis","text":""},{"location":"deployment/#serveur","title":"Serveur","text":"<ul> <li>OS: Ubuntu 20.04+ ou Debian 11+</li> <li>RAM: 2 GB minimum</li> <li>CPU: 2 cores minimum</li> <li>Stockage: 20 GB minimum</li> </ul>"},{"location":"deployment/#services","title":"Services","text":"<ul> <li>Docker (pour PostgreSQL et SMTP)</li> <li>Nginx</li> <li>Python 3.8+</li> <li>Node.js 18+</li> </ul>"},{"location":"deployment/#installation","title":"Installation","text":""},{"location":"deployment/#1-mise-a-jour-et-dependances","title":"1. Mise \u00e0 jour et d\u00e9pendances","text":"<pre><code>sudo apt update &amp;&amp; sudo apt upgrade -y\nsudo apt install python3 python3-pip python3-venv nginx git docker.io docker-compose -y\n\n# Node.js 18\ncurl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -\nsudo apt install nodejs -y\n</code></pre>"},{"location":"deployment/#2-pare-feu","title":"2. Pare-feu","text":"<pre><code>sudo ufw allow OpenSSH\nsudo ufw allow 'Nginx Full'\nsudo ufw enable\n</code></pre>"},{"location":"deployment/#deploiement","title":"D\u00e9ploiement","text":""},{"location":"deployment/#1-cloner-le-projet","title":"1. Cloner le projet","text":"<pre><code>cd /opt\nsudo git clone https://github.com/TISEPSE/Book-By-Click.git\ncd Book-By-Click\n</code></pre>"},{"location":"deployment/#2-backend","title":"2. Backend","text":"<pre><code># Python\npython3 -m venv venv\nsource venv/bin/activate\npip install flask flask-sqlalchemy flask-cors psycopg2-binary python-dotenv\n\n# Lancer PostgreSQL et SMTP avec Docker\ncd Backend/src\ndocker compose up -d\n</code></pre>"},{"location":"deployment/#3-frontend","title":"3. Frontend","text":"<pre><code># Build\nnpm install\nnpm run build\n\n# D\u00e9ployer\nsudo cp -r dist/* /var/www/html/\n</code></pre>"},{"location":"deployment/#4-service-systemd-pour-flask","title":"4. Service systemd pour Flask","text":"<pre><code>sudo nano /etc/systemd/system/bookbyclick.service\n</code></pre> <pre><code>[Unit]\nDescription=Book By Click API\nAfter=network.target docker.service\n\n[Service]\nWorkingDirectory=/opt/Book-By-Click/Backend/src\nEnvironment=\"PATH=/opt/Book-By-Click/venv/bin\"\nExecStart=/opt/Book-By-Click/venv/bin/python -m flask --app app run --host=0.0.0.0 --port=5000\n\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> <pre><code>sudo systemctl daemon-reload\nsudo systemctl enable bookbyclick\nsudo systemctl start bookbyclick\n</code></pre>"},{"location":"deployment/#configuration-nginx","title":"Configuration Nginx","text":"<pre><code>sudo nano /etc/nginx/sites-available/default\n</code></pre> <pre><code>server {\n    listen 80;\n    server_name _;\n\n    # Frontend\n    location / {\n        root /var/www/html;\n        try_files $uri $uri/ /index.html;\n    }\n\n    # API\n    location /api/ {\n        proxy_pass http://localhost:5000/;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n    }\n}\n</code></pre> <pre><code>sudo nginx -t\nsudo systemctl reload nginx\n</code></pre>"},{"location":"deployment/#ssl-avec-lets-encrypt-optionnel","title":"SSL avec Let's Encrypt (optionnel)","text":"<pre><code>sudo apt install certbot python3-certbot-nginx -y\nsudo certbot --nginx -d votredomaine.com\n</code></pre>"},{"location":"deployment/#maintenance","title":"Maintenance","text":""},{"location":"deployment/#logs","title":"Logs","text":"<pre><code># API\nsudo journalctl -u bookbyclick -f\n\n# Base de donn\u00e9es\ndocker logs db\n\n# Nginx\nsudo tail -f /var/log/nginx/error.log\n</code></pre>"},{"location":"deployment/#mise-a-jour","title":"Mise \u00e0 jour","text":"<pre><code>cd /opt/Book-By-Click\nsudo git pull\nnpm run build\nsudo cp -r dist/* /var/www/html/\nsudo systemctl restart bookbyclick\n</code></pre>"},{"location":"deployment/#sauvegarde-postgresql","title":"Sauvegarde PostgreSQL","text":"<pre><code>docker exec db pg_dump -U appuser appdb &gt; backup_$(date +%Y%m%d).sql\n</code></pre>"},{"location":"installation/","title":"Guide d'installation","text":"<p>Guide d'installation complet de Book By Click.</p> <p>Projet GitHub : https://github.com/TISEPSE/Book-By-Click.git</p>"},{"location":"installation/#prerequis","title":"Pr\u00e9requis","text":"<ul> <li>Node.js 18+</li> <li>Python 3.8+</li> <li>Git</li> <li>Docker (recommand\u00e9 pour PostgreSQL)</li> </ul> <pre><code># V\u00e9rifier les versions\nnode --version\npython --version\ngit --version\ndocker --version\n</code></pre>"},{"location":"installation/#installation","title":"Installation","text":""},{"location":"installation/#1-cloner-le-projet","title":"1. Cloner le projet","text":"<pre><code>git clone https://github.com/TISEPSE/Book-By-Click.git\ncd Book-By-Click\n</code></pre>"},{"location":"installation/#2-frontend","title":"2. Frontend","text":"<pre><code>npm install\n</code></pre> <p>D\u00e9pendances principales : - React 19.2.0 - Vite (rolldown-vite 7.2.5) - Tailwind CSS 4.1.17 - React Router DOM 7.10.1</p>"},{"location":"installation/#3-backend","title":"3. Backend","text":"<pre><code>cd Backend\npython -m venv ../venv\nsource ../venv/bin/activate  # Linux/Mac\n# ou ..\\venv\\Scripts\\activate  # Windows\n\npip install flask flask-sqlalchemy flask-cors psycopg2-binary python-dotenv\n</code></pre>"},{"location":"installation/#4-base-de-donnees-postgresql","title":"4. Base de donn\u00e9es PostgreSQL","text":""},{"location":"installation/#avec-docker-recommande","title":"Avec Docker (recommand\u00e9)","text":"<pre><code>cd Backend/src\ndocker compose up -d\n</code></pre> <p>Configuration automatique : - PostgreSQL 15 - User: <code>appuser</code> - Password: <code>apppassword</code> - Database: <code>appdb</code> - Port: 5432</p>"},{"location":"installation/#sans-docker","title":"Sans Docker","text":"<pre><code># Ubuntu/Debian\nsudo apt install postgresql-15\n\n# macOS\nbrew install postgresql@15\n\n# Cr\u00e9er la base\nsudo -u postgres psql\nCREATE DATABASE appdb;\nCREATE USER appuser WITH PASSWORD 'apppassword';\nGRANT ALL PRIVILEGES ON DATABASE appdb TO appuser;\n\\q\n</code></pre>"},{"location":"installation/#5-configuration","title":"5. Configuration","text":"<p>La configuration par d\u00e9faut fonctionne avec Docker. Pour personnaliser, cr\u00e9ez un fichier <code>.env</code> :</p> <pre><code># Backend/src/.env\nSQLALCHEMY_DATABASE_URI=postgresql://appuser:apppassword@localhost:5432/appdb\n</code></pre>"},{"location":"installation/#lancement","title":"Lancement","text":"<pre><code># Linux/Mac\nnpm run dev:lin\n\n# Windows\nnpm run dev:win\n\n# Avec Docker (lance automatiquement la base de donn\u00e9es)\nnpm run dev:all\n</code></pre> <p>Services lanc\u00e9s : - Frontend : http://localhost:5173 - Backend : http://localhost:5000</p>"},{"location":"installation/#commandes-separees","title":"Commandes s\u00e9par\u00e9es","text":"<pre><code># Base de donn\u00e9es seulement\nnpm run db\n\n# Backend seulement\nnpm run api          # Linux/Mac\nnpm run api:win      # Windows\n\n# Frontend seulement\nnpm run web\n</code></pre>"},{"location":"installation/#verification","title":"V\u00e9rification","text":""},{"location":"installation/#test-api","title":"Test API","text":"<pre><code>curl http://localhost:5000/api/services\n</code></pre>"},{"location":"installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"installation/#port-deja-utilise","title":"Port d\u00e9j\u00e0 utilis\u00e9","text":"<pre><code># Trouver le processus\nlsof -i :5173  # Linux/Mac\nnetstat -ano | findstr :5173  # Windows\n\n# Tuer le processus\nkill -9 &lt;PID&gt;\n</code></pre>"},{"location":"installation/#erreur-de-connexion-postgresql","title":"Erreur de connexion PostgreSQL","text":"<pre><code># V\u00e9rifier que Docker est lanc\u00e9\ndocker ps\n\n# V\u00e9rifier les logs\ndocker logs db\n\n# Red\u00e9marrer PostgreSQL\ncd Backend/src\ndocker compose restart db\n</code></pre>"},{"location":"installation/#erreur-de-dependances","title":"Erreur de d\u00e9pendances","text":"<pre><code># Frontend\nnpm install\n\n# Backend\nsource venv/bin/activate\npip install flask flask-sqlalchemy flask-cors psycopg2-binary python-dotenv\n</code></pre>"},{"location":"installation/#production","title":"Production","text":"<pre><code># Build frontend\nnpm run build\n</code></pre>"},{"location":"api/authentication/","title":"Guide d'authentification","text":"<p>Ce guide explique en d\u00e9tail comment fonctionne l'authentification dans l'API Book By Click.</p>"},{"location":"api/authentication/#vue-densemble","title":"Vue d'ensemble","text":"<p>L'API utilise JSON Web Tokens (JWT) pour l'authentification. C'est un standard ouvert (RFC 7519) qui d\u00e9finit une m\u00e9thode compacte et autonome pour transmettre des informations de mani\u00e8re s\u00e9curis\u00e9e entre les parties.</p>"},{"location":"api/authentication/#processus-dauthentification","title":"Processus d'authentification","text":"<pre><code>sequenceDiagram\n    participant Client\n    participant API\n    participant Database\n\n    Client-&gt;&gt;API: POST /auth/login (email, password)\n    API-&gt;&gt;Database: V\u00e9rifier les credentials\n    Database--&gt;&gt;API: Utilisateur trouv\u00e9\n    API-&gt;&gt;API: G\u00e9n\u00e9rer JWT token\n    API--&gt;&gt;Client: Token + donn\u00e9es utilisateur\n    Client-&gt;&gt;Client: Stocker le token\n    Client-&gt;&gt;API: GET /reservations (avec token)\n    API-&gt;&gt;API: Valider le token\n    API--&gt;&gt;Client: Donn\u00e9es des r\u00e9servations</code></pre>"},{"location":"api/authentication/#inscription","title":"Inscription","text":""},{"location":"api/authentication/#creer-un-nouveau-compte","title":"Cr\u00e9er un nouveau compte","text":"<p>Endpoint: <code>POST /auth/register</code></p> <p>Corps de la requ\u00eate:</p> <pre><code>{\n  \"email\": \"utilisateur@example.com\",\n  \"password\": \"MotDePasseSecurise123!\",\n  \"first_name\": \"Jean\",\n  \"last_name\": \"Dupont\",\n  \"role\": \"student\",\n  \"school\": \"Lyc\u00e9e Technique de Paris\",\n  \"phone\": \"+33612345678\"\n}\n</code></pre> <p>Validation:</p> <ul> <li>Email: Doit \u00eatre une adresse email valide et unique</li> <li>Mot de passe: Minimum 8 caract\u00e8res</li> <li>R\u00f4le: Doit \u00eatre <code>student</code>, <code>company</code> ou <code>admin</code></li> <li>Pr\u00e9nom et nom: Obligatoires</li> </ul> <p>R\u00e9ponse r\u00e9ussie (201 Created):</p> <pre><code>{\n  \"message\": \"User created successfully\",\n  \"user_id\": 42\n}\n</code></pre> <p>Erreurs possibles:</p> Code Message Signification 400 Email already exists Un compte existe d\u00e9j\u00e0 avec cet email 400 Password must be at least 8 characters Mot de passe trop court 400 Invalid email format Format d'email invalide 400 Missing required field: {field} Champ obligatoire manquant"},{"location":"api/authentication/#connexion","title":"Connexion","text":""},{"location":"api/authentication/#obtenir-un-token-jwt","title":"Obtenir un token JWT","text":"<p>Endpoint: <code>POST /auth/login</code></p> <p>Corps de la requ\u00eate:</p> <pre><code>{\n  \"email\": \"utilisateur@example.com\",\n  \"password\": \"MotDePasseSecurise123!\"\n}\n</code></pre> <p>R\u00e9ponse r\u00e9ussie (200 OK):</p> <pre><code>{\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo0MiwiZW1haWwiOiJ1dGlsaXNhdGV1ckBleGFtcGxlLmNvbSIsInJvbGUiOiJzdHVkZW50IiwiZXhwIjoxNzM0NTQ1NDAwfQ.signature\",\n  \"user\": {\n    \"id\": 42,\n    \"email\": \"utilisateur@example.com\",\n    \"first_name\": \"Jean\",\n    \"last_name\": \"Dupont\",\n    \"role\": \"student\",\n    \"school\": \"Lyc\u00e9e Technique de Paris\"\n  }\n}\n</code></pre> <p>Erreurs possibles:</p> Code Message Signification 401 Invalid credentials Email ou mot de passe incorrect 403 Account disabled Le compte a \u00e9t\u00e9 d\u00e9sactiv\u00e9 400 Missing email or password Champs obligatoires manquants"},{"location":"api/authentication/#structure-du-jwt","title":"Structure du JWT","text":""},{"location":"api/authentication/#anatomie-dun-token","title":"Anatomie d'un token","text":"<p>Un JWT est compos\u00e9 de trois parties s\u00e9par\u00e9es par des points (<code>.</code>):</p> <pre><code>Header.Payload.Signature\n</code></pre>"},{"location":"api/authentication/#1-header-en-tete","title":"1. Header (En-t\u00eate)","text":"<pre><code>{\n  \"alg\": \"HS256\",\n  \"typ\": \"JWT\"\n}\n</code></pre> <ul> <li><code>alg</code>: Algorithme de signature (HS256 = HMAC SHA-256)</li> <li><code>typ</code>: Type de token (JWT)</li> </ul>"},{"location":"api/authentication/#2-payload-donnees","title":"2. Payload (Donn\u00e9es)","text":"<pre><code>{\n  \"user_id\": 42,\n  \"email\": \"utilisateur@example.com\",\n  \"role\": \"student\",\n  \"exp\": 1734545400,\n  \"iat\": 1734459000\n}\n</code></pre> <ul> <li><code>user_id</code>: Identifiant unique de l'utilisateur</li> <li><code>email</code>: Email de l'utilisateur</li> <li><code>role</code>: R\u00f4le (student, company, admin)</li> <li><code>exp</code>: Date d'expiration (timestamp Unix)</li> <li><code>iat</code>: Date d'\u00e9mission (timestamp Unix)</li> </ul>"},{"location":"api/authentication/#3-signature","title":"3. Signature","text":"<p>La signature garantit l'int\u00e9grit\u00e9 du token et est calcul\u00e9e avec:</p> <pre><code>HMACSHA256(\n  base64UrlEncode(header) + \".\" + base64UrlEncode(payload),\n  secret_key\n)\n</code></pre>"},{"location":"api/authentication/#utilisation-du-token","title":"Utilisation du token","text":""},{"location":"api/authentication/#dans-les-requetes-http","title":"Dans les requ\u00eates HTTP","text":"<p>Le token doit \u00eatre inclus dans le header <code>Authorization</code> avec le pr\u00e9fixe <code>Bearer</code>:</p> <pre><code>GET /api/reservations HTTP/1.1\nHost: localhost:5000\nAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\nContent-Type: application/json\n</code></pre>"},{"location":"api/authentication/#exemples-par-langage","title":"Exemples par langage","text":""},{"location":"api/authentication/#javascript-fetch-api","title":"JavaScript (Fetch API)","text":"<pre><code>const token = localStorage.getItem('authToken');\n\nfetch('http://localhost:5000/api/reservations', {\n  method: 'GET',\n  headers: {\n    'Authorization': `Bearer ${token}`,\n    'Content-Type': 'application/json'\n  }\n})\n.then(response =&gt; response.json())\n.then(data =&gt; console.log(data));\n</code></pre>"},{"location":"api/authentication/#python-requests","title":"Python (requests)","text":"<pre><code>import requests\n\ntoken = \"eyJhbGciOiJIUzI1NiIs...\"\n\nheaders = {\n    'Authorization': f'Bearer {token}',\n    'Content-Type': 'application/json'\n}\n\nresponse = requests.get(\n    'http://localhost:5000/api/reservations',\n    headers=headers\n)\ndata = response.json()\n</code></pre>"},{"location":"api/authentication/#curl","title":"cURL","text":"<pre><code>curl -X GET http://localhost:5000/api/reservations \\\n  -H \"Authorization: Bearer eyJhbGciOiJIUzI1NiIs...\" \\\n  -H \"Content-Type: application/json\"\n</code></pre>"},{"location":"api/authentication/#stockage-du-token","title":"Stockage du token","text":""},{"location":"api/authentication/#frontend-navigateur","title":"Frontend (Navigateur)","text":""},{"location":"api/authentication/#localstorage-recommande-pour-spa","title":"localStorage (Recommand\u00e9 pour SPA)","text":"<pre><code>// Sauvegarder\nlocalStorage.setItem('authToken', token);\n\n// R\u00e9cup\u00e9rer\nconst token = localStorage.getItem('authToken');\n\n// Supprimer (d\u00e9connexion)\nlocalStorage.removeItem('authToken');\n</code></pre> <p>Avantages: - Persiste entre les sessions - Simple \u00e0 utiliser - Accessible depuis tout JavaScript</p> <p>Inconv\u00e9nients: - Vuln\u00e9rable aux attaques XSS - Pas de protection CSRF int\u00e9gr\u00e9e</p>"},{"location":"api/authentication/#sessionstorage-session-temporaire","title":"sessionStorage (Session temporaire)","text":"<pre><code>// Similaire \u00e0 localStorage, mais expire \u00e0 la fermeture de l'onglet\nsessionStorage.setItem('authToken', token);\n</code></pre>"},{"location":"api/authentication/#cookies-http-only-plus-securise","title":"Cookies HTTP-Only (Plus s\u00e9curis\u00e9)","text":"<pre><code>// C\u00f4t\u00e9 serveur (Flask)\nfrom flask import make_response\n\nresponse = make_response(jsonify({'user': user_data}))\nresponse.set_cookie(\n    'authToken',\n    token,\n    httponly=True,\n    secure=True,  # HTTPS uniquement\n    samesite='Strict'\n)\n</code></pre> <p>Avantages: - Protection contre XSS (httponly) - Protection CSRF avec samesite - Plus s\u00e9curis\u00e9</p> <p>Inconv\u00e9nients: - Plus complexe \u00e0 impl\u00e9menter - N\u00e9cessite configuration CORS</p>"},{"location":"api/authentication/#expiration-et-renouvellement","title":"Expiration et renouvellement","text":""},{"location":"api/authentication/#duree-de-vie","title":"Dur\u00e9e de vie","text":"<p>Par d\u00e9faut, les tokens expirent apr\u00e8s 24 heures.</p>"},{"location":"api/authentication/#verifier-lexpiration","title":"V\u00e9rifier l'expiration","text":"<pre><code>function isTokenExpired(token) {\n  try {\n    const payload = JSON.parse(atob(token.split('.')[1]));\n    const expiration = payload.exp * 1000; // Convertir en millisecondes\n    return Date.now() &gt; expiration;\n  } catch (error) {\n    return true;\n  }\n}\n\nconst token = localStorage.getItem('authToken');\nif (isTokenExpired(token)) {\n  // Rediriger vers login\n  window.location.href = '/login';\n}\n</code></pre>"},{"location":"api/authentication/#renouvellement-automatique","title":"Renouvellement automatique","text":"<p>Pour \u00e9viter de demander \u00e0 l'utilisateur de se reconnecter fr\u00e9quemment, vous pouvez impl\u00e9menter un syst\u00e8me de refresh token:</p> <pre><code>async function refreshToken() {\n  const response = await fetch('http://localhost:5000/api/auth/refresh', {\n    method: 'POST',\n    headers: {\n      'Authorization': `Bearer ${localStorage.getItem('authToken')}`\n    }\n  });\n\n  if (response.ok) {\n    const data = await response.json();\n    localStorage.setItem('authToken', data.token);\n    return data.token;\n  } else {\n    // Token invalide, rediriger vers login\n    window.location.href = '/login';\n  }\n}\n</code></pre>"},{"location":"api/authentication/#gestion-des-erreurs-dauthentification","title":"Gestion des erreurs d'authentification","text":""},{"location":"api/authentication/#codes-derreur","title":"Codes d'erreur","text":"Code Description Action recommand\u00e9e 401 Unauthorized - Token manquant ou invalide Rediriger vers /login 403 Forbidden - Token valide mais permissions insuffisantes Afficher erreur \"Acc\u00e8s refus\u00e9\" 419 Authentication Timeout - Token expir\u00e9 Redemander la connexion"},{"location":"api/authentication/#intercepteur-de-requetes","title":"Intercepteur de requ\u00eates","text":""},{"location":"api/authentication/#axios-javascript","title":"Axios (JavaScript)","text":"<pre><code>import axios from 'axios';\n\naxios.interceptors.response.use(\n  response =&gt; response,\n  error =&gt; {\n    if (error.response?.status === 401) {\n      // Token invalide, rediriger vers login\n      localStorage.removeItem('authToken');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n</code></pre>"},{"location":"api/authentication/#fetch-api-javascript","title":"Fetch API (JavaScript)","text":"<pre><code>async function fetchWithAuth(url, options = {}) {\n  const token = localStorage.getItem('authToken');\n\n  const response = await fetch(url, {\n    ...options,\n    headers: {\n      ...options.headers,\n      'Authorization': `Bearer ${token}`\n    }\n  });\n\n  if (response.status === 401) {\n    localStorage.removeItem('authToken');\n    window.location.href = '/login';\n    throw new Error('Unauthorized');\n  }\n\n  return response;\n}\n</code></pre>"},{"location":"api/authentication/#securite","title":"S\u00e9curit\u00e9","text":""},{"location":"api/authentication/#bonnes-pratiques","title":"Bonnes pratiques","text":"<ol> <li>HTTPS uniquement en production</li> <li> <p>Ne jamais transmettre de tokens sur HTTP non s\u00e9curis\u00e9</p> </li> <li> <p>Stocker de mani\u00e8re s\u00e9curis\u00e9e</p> </li> <li>Utiliser httpOnly cookies quand possible</li> <li> <p>\u00c9viter de stocker dans l'URL ou query params</p> </li> <li> <p>Valider c\u00f4t\u00e9 serveur</p> </li> <li>Ne jamais faire confiance au client</li> <li> <p>Toujours v\u00e9rifier le token sur le serveur</p> </li> <li> <p>Expiration courte</p> </li> <li>Tokens de courte dur\u00e9e (24h max)</li> <li> <p>Impl\u00e9menter un refresh token pour les sessions longues</p> </li> <li> <p>Protection XSS</p> </li> <li>Sanitizer toutes les entr\u00e9es utilisateur</li> <li> <p>Utiliser Content Security Policy (CSP)</p> </li> <li> <p>Logout appropri\u00e9</p> </li> <li>Supprimer le token c\u00f4t\u00e9 client</li> <li>Impl\u00e9menter une blacklist de tokens c\u00f4t\u00e9 serveur (optionnel)</li> </ol>"},{"location":"api/authentication/#verification-du-token-cote-serveur","title":"V\u00e9rification du token c\u00f4t\u00e9 serveur","text":"<pre><code># Backend Flask\nfrom functools import wraps\nimport jwt\nfrom flask import request, jsonify\nimport os\n\ndef token_required(f):\n    @wraps(f)\n    def decorated(*args, **kwargs):\n        token = request.headers.get('Authorization')\n\n        if not token:\n            return jsonify({'error': 'Token is missing'}), 401\n\n        try:\n            # Enlever \"Bearer \" du token\n            token = token.replace('Bearer ', '')\n\n            # D\u00e9coder et valider\n            data = jwt.decode(\n                token,\n                os.getenv('JWT_SECRET_KEY'),\n                algorithms=['HS256']\n            )\n\n            # Ajouter les infos utilisateur \u00e0 la requ\u00eate\n            request.user_id = data['user_id']\n            request.user_role = data['role']\n\n        except jwt.ExpiredSignatureError:\n            return jsonify({'error': 'Token has expired'}), 401\n        except jwt.InvalidTokenError:\n            return jsonify({'error': 'Invalid token'}), 401\n\n        return f(*args, **kwargs)\n\n    return decorated\n</code></pre>"},{"location":"api/authentication/#ressources","title":"Ressources","text":"<ul> <li>Documentation endpoints</li> <li>Exemples d'utilisation</li> <li>Sp\u00e9cification JWT (RFC 7519)</li> <li>jwt.io - D\u00e9codeur de JWT</li> </ul>"},{"location":"api/endpoints/","title":"R\u00e9f\u00e9rence API","text":"<p>Documentation compl\u00e8te de l'API REST du syst\u00e8me de r\u00e9servation Book By Click.</p> <p>Projet GitHub : https://github.com/TISEPSE/Book-By-Click.git</p>"},{"location":"api/endpoints/#url-de-base","title":"URL de base","text":"<p>D\u00e9veloppement: <pre><code>http://localhost:5000\n</code></pre></p> <p>Production: <pre><code>https://api.book-by-click.example.com\n</code></pre></p>"},{"location":"api/endpoints/#format-des-donnees","title":"Format des donn\u00e9es","text":"<ul> <li>Content-Type: <code>application/x-www-form-urlencoded</code> ou <code>application/json</code> selon l'endpoint</li> <li>Charset: UTF-8</li> </ul>"},{"location":"api/endpoints/#liste-des-endpoints-disponibles","title":"Liste des endpoints disponibles","text":"M\u00e9thode Endpoint Description Content-Type POST <code>/register_form</code> Inscription utilisateur form-data POST <code>/login_form</code> Connexion utilisateur form-data POST <code>/teste</code> R\u00e9cup\u00e9rer un utilisateur par nom form-data POST <code>/contact</code> Envoyer un message de contact JSON GET <code>/api/services</code> Autocompl\u00e9tion des services - GET <code>/api/villes</code> Autocompl\u00e9tion des villes de France -"},{"location":"api/endpoints/#endpoints","title":"Endpoints","text":""},{"location":"api/endpoints/#authentification","title":"Authentification","text":""},{"location":"api/endpoints/#post-register_form","title":"POST /register_form","text":"<p>Inscription d'un nouvel utilisateur.</p> <p>Content-Type: <code>application/x-www-form-urlencoded</code></p> <p>Param\u00e8tres (form-data):</p> Param\u00e8tre Type Requis Description <code>email</code> string Oui Adresse email de l'utilisateur <code>password</code> string Oui Mot de passe <code>nom</code> string Oui Nom de famille <p>Exemple: <pre><code>curl -X POST http://localhost:5000/register_form \\\n  -d \"email=utilisateur@example.com\" \\\n  -d \"password=motdepasse123\" \\\n  -d \"nom=Dupont\"\n</code></pre></p> <p>R\u00e9ponse: <code>200 OK</code> <pre><code>OK\n</code></pre></p>"},{"location":"api/endpoints/#post-login_form","title":"POST /login_form","text":"<p>Connexion d'un utilisateur existant.</p> <p>Content-Type: <code>application/x-www-form-urlencoded</code></p> <p>Param\u00e8tres (form-data):</p> Param\u00e8tre Type Requis Description <code>email</code> string Oui Adresse email du compte <code>password</code> string Oui Mot de passe <p>Exemple: <pre><code>curl -X POST http://localhost:5000/login_form \\\n  -d \"email=utilisateur@example.com\" \\\n  -d \"password=motdepasse123\"\n</code></pre></p> <p>R\u00e9ponse: <code>200 OK</code> <pre><code>{\n  \"email\": \"utilisateur@example.com\",\n  \"password\": \"motdepasse123\"\n}\n</code></pre></p> <p>!!! warning \"Attention\"     Cette route retourne actuellement le mot de passe en clair. Elle est en cours de d\u00e9veloppement et ne doit pas \u00eatre utilis\u00e9e en production sans s\u00e9curisation appropri\u00e9e.</p>"},{"location":"api/endpoints/#utilisateurs","title":"Utilisateurs","text":""},{"location":"api/endpoints/#post-teste","title":"POST /teste","text":"<p>R\u00e9cup\u00e9rer les informations d'un utilisateur par son nom.</p> <p>Content-Type: <code>application/x-www-form-urlencoded</code></p> <p>Param\u00e8tres (form-data):</p> Param\u00e8tre Type Requis Description <code>username</code> string Oui Nom de l'utilisateur \u00e0 rechercher <p>Exemple: <pre><code>curl -X POST http://localhost:5000/teste \\\n  -d \"username=Dupont\"\n</code></pre></p> <p>R\u00e9ponse: <code>200 OK</code> <pre><code>{\n  \"id\": 1,\n  \"nom\": \"Dupont\",\n  \"prenom\": \"Jean\",\n  \"dateNaissance\": \"1990-05-15\",\n  \"email\": \"jean.dupont@example.com\",\n  \"motDePasseHash\": \"$2b$12$...\",\n  \"telephone\": \"0612345678\"\n}\n</code></pre></p> <p>Erreurs possibles:</p> Code Description 404 Utilisateur non trouv\u00e9 500 Erreur serveur (base de donn\u00e9es indisponible)"},{"location":"api/endpoints/#contact","title":"Contact","text":""},{"location":"api/endpoints/#post-contact","title":"POST /contact","text":"<p>Envoyer un message de contact par email.</p> <p>Content-Type: <code>application/json</code></p> <p>Param\u00e8tres (JSON):</p> Param\u00e8tre Type Requis Description <code>name</code> string Oui Nom de la personne <code>email</code> string Oui Email de contact <code>phone</code> string Non Num\u00e9ro de t\u00e9l\u00e9phone (optionnel) <code>message</code> string Oui Message \u00e0 envoyer <p>Exemple: <pre><code>curl -X POST http://localhost:5000/contact \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"name\": \"Jean Dupont\",\n    \"email\": \"jean.dupont@example.com\",\n    \"phone\": \"0612345678\",\n    \"message\": \"Je souhaite obtenir plus d'\\''informations sur vos services.\"\n  }'\n</code></pre></p> <p>R\u00e9ponse: <code>200 OK</code> <pre><code>{\n  \"success\": true,\n  \"message\": \"Votre message a \u00e9t\u00e9 envoy\u00e9 avec succ\u00e8s !\"\n}\n</code></pre></p> <p>Erreur: <code>400 Bad Request</code> <pre><code>{\n  \"success\": false,\n  \"error\": \"Tous les champs sont requis\"\n}\n</code></pre></p> <p>Erreur: <code>500 Internal Server Error</code> <pre><code>{\n  \"success\": false,\n  \"error\": \"Erreur lors de l'envoi du message\"\n}\n</code></pre></p>"},{"location":"api/endpoints/#autocompletion","title":"Autocompl\u00e9tion","text":""},{"location":"api/endpoints/#get-apiservices","title":"GET /api/services","text":"<p>R\u00e9cup\u00e9rer la liste des services disponibles avec autocompl\u00e9tion.</p> <p>Param\u00e8tres de requ\u00eate (Query):</p> Param\u00e8tre Type Requis Description <code>q</code> string Non Terme de recherche pour filtrer les services <p>Exemples: <pre><code># Sans filtre\ncurl http://localhost:5000/api/services\n\n# Avec recherche\ncurl \"http://localhost:5000/api/services?q=dev\"\n</code></pre></p> <p>R\u00e9ponse: <code>200 OK</code> <pre><code>[\n  \"D\u00e9veloppement Web\",\n  \"D\u00e9veloppement Mobile\",\n  \"D\u00e9veloppement Logiciel\",\n  ...\n]\n</code></pre></p> <p>!!! note     Retourne maximum 20 r\u00e9sultats quand un filtre est appliqu\u00e9. La liste est charg\u00e9e depuis <code>/Backend/src/data/services.json</code>.</p>"},{"location":"api/endpoints/#get-apivilles","title":"GET /api/villes","text":"<p>R\u00e9cup\u00e9rer la liste des villes de France avec autocompl\u00e9tion.</p> <p>Param\u00e8tres de requ\u00eate (Query):</p> Param\u00e8tre Type Requis Description <code>q</code> string Non Terme de recherche pour filtrer les villes <p>Exemples: <pre><code># Sans filtre (100 premi\u00e8res villes)\ncurl http://localhost:5000/api/villes\n\n# Avec recherche (max 15 r\u00e9sultats)\ncurl \"http://localhost:5000/api/villes?q=par\"\n</code></pre></p> <p>R\u00e9ponse sans filtre: <code>200 OK</code> <pre><code>[\n  \"Paris\",\n  \"Marseille\",\n  \"Lyon\",\n  \"Toulouse\",\n  ...\n]\n</code></pre></p> <p>R\u00e9ponse avec filtre <code>q=par</code>: <code>200 OK</code> (max 15 r\u00e9sultats) <pre><code>[\n  \"Paris\",\n  \"Paray-le-Monial\",\n  \"Paray-Vieille-Poste\",\n  \"Parcay-Meslay\",\n  ...\n]\n</code></pre></p> <p>!!! info \"Performance\"     - Les villes sont charg\u00e9es depuis <code>/Backend/src/data/communes-france-avec-polygon-2025.json</code>     - Syst\u00e8me de cache global pour optimiser les performances     - Filtrage c\u00f4t\u00e9 serveur avec <code>startswith()</code> pour des r\u00e9sultats pertinents</p>"},{"location":"api/endpoints/#reservations","title":"R\u00e9servations","text":"<p>!!! warning \"En cours de d\u00e9veloppement\"     Les endpoints suivants sont \u00e0 impl\u00e9menter selon le sch\u00e9ma de base de donn\u00e9es.</p> <p>Selon le mod\u00e8le de base de donn\u00e9es (voir Base de donn\u00e9es), les endpoints de r\u00e9servation utiliseront les tables:</p> <ul> <li><code>reservation</code>: R\u00e9servations des clients</li> <li><code>creneau</code>: Cr\u00e9neaux horaires disponibles</li> <li><code>prestation</code>: Services offerts par les entreprises</li> </ul>"},{"location":"api/endpoints/#notes-techniques","title":"Notes techniques","text":""},{"location":"api/endpoints/#base-de-donnees","title":"Base de donn\u00e9es","text":"<p>L'API utilise PostgreSQL 15 avec SQLAlchemy comme ORM.</p> <p>Configuration par d\u00e9faut: <pre><code>postgresql://appuser:apppassword@localhost:5432/appdb\n</code></pre></p> <p>Voir le fichier <code>Backend/src/docker-compose.yml</code> pour la configuration compl\u00e8te.</p>"},{"location":"api/endpoints/#cors","title":"CORS","text":"<p>CORS est activ\u00e9 sur tous les endpoints via Flask-CORS.</p>"},{"location":"api/endpoints/#email","title":"Email","text":"<p>Le syst\u00e8me d'envoi d'emails utilise un serveur SMTP configur\u00e9 via Docker (voir <code>docker-compose.yml</code>).</p> <p>Configuration Gmail relay: - Host: smtp.gmail.com - Port: 587 - TLS activ\u00e9</p>"},{"location":"api/endpoints/#developpement-futur","title":"D\u00e9veloppement futur","text":""},{"location":"api/endpoints/#endpoints-a-implementer","title":"Endpoints \u00e0 impl\u00e9menter","text":"<p>Bas\u00e9 sur le sch\u00e9ma de base de donn\u00e9es, voici les endpoints qui devraient \u00eatre impl\u00e9ment\u00e9s:</p>"},{"location":"api/endpoints/#entreprises","title":"Entreprises","text":"<ul> <li><code>GET /api/entreprises</code> - Liste des entreprises</li> <li><code>GET /api/entreprises/{id}</code> - D\u00e9tails d'une entreprise</li> <li><code>POST /api/entreprises</code> - Cr\u00e9er une entreprise (pour les g\u00e9rants)</li> <li><code>PUT /api/entreprises/{id}</code> - Modifier une entreprise</li> <li><code>GET /api/entreprises/{id}/creneaux</code> - Cr\u00e9neaux d'une entreprise</li> </ul>"},{"location":"api/endpoints/#reservations_1","title":"R\u00e9servations","text":"<ul> <li><code>GET /api/reservations</code> - Liste des r\u00e9servations</li> <li><code>POST /api/reservations</code> - Cr\u00e9er une r\u00e9servation  </li> <li><code>PUT /api/reservations/{id}</code> - Modifier une r\u00e9servation</li> <li><code>DELETE /api/reservations/{id}</code> - Annuler une r\u00e9servation</li> </ul>"},{"location":"api/endpoints/#prestations","title":"Prestations","text":"<ul> <li><code>GET /api/prestations</code> - Liste des prestations</li> <li><code>GET /api/entreprises/{id}/prestations</code> - Prestations d'une entreprise</li> </ul>"},{"location":"api/endpoints/#evenements","title":"\u00c9v\u00e9nements","text":"<ul> <li><code>GET /api/evenements</code> - Liste des \u00e9v\u00e9nements</li> <li><code>GET /api/entreprises/{id}/evenements</code> - \u00c9v\u00e9nements d'une entreprise</li> </ul>"},{"location":"api/endpoints/#ressources","title":"Ressources","text":"<ul> <li>Guide d'authentification</li> <li>Exemples d'utilisation</li> <li>Mod\u00e8les de donn\u00e9es</li> <li>Architecture Backend</li> </ul>"},{"location":"api/examples/","title":"Exemples d'utilisation de l'API","text":"<p>Cette page fournit des exemples pratiques d'utilisation de l'API Book By Click dans diff\u00e9rents langages et frameworks.</p>"},{"location":"api/examples/#exemples-python","title":"Exemples Python","text":""},{"location":"api/examples/#configuration-de-base","title":"Configuration de base","text":"<pre><code>import requests\nimport json\n\nclass BookByClickAPI:\n    def __init__(self, base_url=\"http://localhost:5000/api\"):\n        self.base_url = base_url\n        self.token = None\n\n    def login(self, email, password):\n        \"\"\"Connexion et r\u00e9cup\u00e9ration du token\"\"\"\n        response = requests.post(\n            f\"{self.base_url}/auth/login\",\n            json={\"email\": email, \"password\": password}\n        )\n        response.raise_for_status()\n        data = response.json()\n        self.token = data[\"token\"]\n        return data[\"user\"]\n\n    def get_headers(self):\n        \"\"\"Headers avec authentification\"\"\"\n        headers = {\"Content-Type\": \"application/json\"}\n        if self.token:\n            headers[\"Authorization\"] = f\"Bearer {self.token}\"\n        return headers\n\n    def get_companies(self, city=None, sector=None):\n        \"\"\"R\u00e9cup\u00e9rer la liste des entreprises\"\"\"\n        params = {}\n        if city:\n            params[\"city\"] = city\n        if sector:\n            params[\"sector\"] = sector\n\n        response = requests.get(\n            f\"{self.base_url}/companies\",\n            params=params,\n            headers=self.get_headers()\n        )\n        response.raise_for_status()\n        return response.json()\n\n    def get_timeslots(self, company_id, from_date, to_date):\n        \"\"\"R\u00e9cup\u00e9rer les cr\u00e9neaux disponibles\"\"\"\n        response = requests.get(\n            f\"{self.base_url}/companies/{company_id}/timeslots\",\n            params={\"from_date\": from_date, \"to_date\": to_date},\n            headers=self.get_headers()\n        )\n        response.raise_for_status()\n        return response.json()\n\n    def create_reservation(self, company_id, date, time_start, time_end, notes=\"\"):\n        \"\"\"Cr\u00e9er une r\u00e9servation\"\"\"\n        response = requests.post(\n            f\"{self.base_url}/reservations\",\n            json={\n                \"company_id\": company_id,\n                \"date\": date,\n                \"time_start\": time_start,\n                \"time_end\": time_end,\n                \"notes\": notes\n            },\n            headers=self.get_headers()\n        )\n        response.raise_for_status()\n        return response.json()\n\n    def get_my_reservations(self, status=None):\n        \"\"\"R\u00e9cup\u00e9rer mes r\u00e9servations\"\"\"\n        params = {}\n        if status:\n            params[\"status\"] = status\n\n        response = requests.get(\n            f\"{self.base_url}/reservations\",\n            params=params,\n            headers=self.get_headers()\n        )\n        response.raise_for_status()\n        return response.json()\n</code></pre>"},{"location":"api/examples/#utilisation-complete","title":"Utilisation compl\u00e8te","text":"<pre><code># Initialiser l'API\napi = BookByClickAPI()\n\ntry:\n    # 1. Connexion\n    user = api.login(\"etudiant@exemple.fr\", \"MotDePasse123!\")\n    print(f\"Connect\u00e9 en tant que: {user['first_name']} {user['last_name']}\")\n\n    # 2. Rechercher des entreprises\n    companies = api.get_companies(city=\"Paris\", sector=\"Informatique\")\n    print(f\"Trouv\u00e9 {companies['total']} entreprises\")\n\n    # 3. Voir les cr\u00e9neaux disponibles\n    if companies['companies']:\n        company = companies['companies'][0]\n        timeslots = api.get_timeslots(\n            company['id'],\n            \"2024-12-20\",\n            \"2024-12-27\"\n        )\n        print(f\"Cr\u00e9neaux disponibles: {len(timeslots['timeslots'])}\")\n\n        # 4. Cr\u00e9er une r\u00e9servation\n        if timeslots['timeslots']:\n            slot = timeslots['timeslots'][0]\n            if slot['available']:\n                reservation = api.create_reservation(\n                    company_id=company['id'],\n                    date=slot['date'],\n                    time_start=slot['start_time'][:5],\n                    time_end=slot['end_time'][:5],\n                    notes=\"Recherche de stage en d\u00e9veloppement web\"\n                )\n                print(f\"R\u00e9servation cr\u00e9\u00e9e: ID {reservation['id']}\")\n\n    # 5. Voir mes r\u00e9servations\n    my_reservations = api.get_my_reservations(status=\"pending\")\n    print(f\"R\u00e9servations en attente: {my_reservations['total']}\")\n\nexcept requests.exceptions.HTTPError as e:\n    print(f\"Erreur HTTP: {e}\")\nexcept Exception as e:\n    print(f\"Erreur: {e}\")\n</code></pre>"},{"location":"api/examples/#exemples-reactjavascript","title":"Exemples React/JavaScript","text":""},{"location":"api/examples/#service-api-complet","title":"Service API complet","text":"<pre><code>// services/api.js\nclass APIService {\n  constructor(baseURL = 'http://localhost:5000/api') {\n    this.baseURL = baseURL;\n    this.token = localStorage.getItem('authToken');\n  }\n\n  async request(endpoint, options = {}) {\n    const headers = {\n      'Content-Type': 'application/json',\n      ...options.headers,\n    };\n\n    if (this.token) {\n      headers['Authorization'] = `Bearer ${this.token}`;\n    }\n\n    const config = {\n      ...options,\n      headers,\n    };\n\n    try {\n      const response = await fetch(`${this.baseURL}${endpoint}`, config);\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.error || `HTTP ${response.status}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error('API Error:', error);\n      throw error;\n    }\n  }\n\n  // Authentification\n  async login(email, password) {\n    const data = await this.request('/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n    });\n\n    this.token = data.token;\n    localStorage.setItem('authToken', data.token);\n    return data;\n  }\n\n  async register(userData) {\n    return await this.request('/auth/register', {\n      method: 'POST',\n      body: JSON.stringify(userData),\n    });\n  }\n\n  logout() {\n    this.token = null;\n    localStorage.removeItem('authToken');\n  }\n\n  // Entreprises\n  async getCompanies(filters = {}) {\n    const params = new URLSearchParams(filters);\n    return await this.request(`/companies?${params}`);\n  }\n\n  async getCompanyDetails(companyId) {\n    return await this.request(`/companies/${companyId}`);\n  }\n\n  // Cr\u00e9neaux horaires\n  async getTimeslots(companyId, filters = {}) {\n    const params = new URLSearchParams(filters);\n    return await this.request(`/companies/${companyId}/timeslots?${params}`);\n  }\n\n  // R\u00e9servations\n  async getMyReservations(filters = {}) {\n    const params = new URLSearchParams(filters);\n    return await this.request(`/reservations?${params}`);\n  }\n\n  async createReservation(reservationData) {\n    return await this.request('/reservations', {\n      method: 'POST',\n      body: JSON.stringify(reservationData),\n    });\n  }\n\n  async updateReservation(reservationId, updates) {\n    return await this.request(`/reservations/${reservationId}`, {\n      method: 'PUT',\n      body: JSON.stringify(updates),\n    });\n  }\n\n  async cancelReservation(reservationId, reason) {\n    return await this.request(\n      `/reservations/${reservationId}?reason=${encodeURIComponent(reason)}`,\n      { method: 'DELETE' }\n    );\n  }\n\n  // Profil utilisateur\n  async getProfile() {\n    return await this.request('/users/me');\n  }\n\n  async updateProfile(updates) {\n    return await this.request('/users/me', {\n      method: 'PUT',\n      body: JSON.stringify(updates),\n    });\n  }\n}\n\nexport default new APIService();\n</code></pre>"},{"location":"api/examples/#hook-react-personnalise","title":"Hook React personnalis\u00e9","text":"<pre><code>// hooks/useAPI.js\nimport { useState, useEffect } from 'react';\nimport api from '../services/api';\n\nexport function useCompanies(filters = {}) {\n  const [companies, setCompanies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() =&gt; {\n    async function fetchCompanies() {\n      try {\n        setLoading(true);\n        const data = await api.getCompanies(filters);\n        setCompanies(data.companies || []);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchCompanies();\n  }, [JSON.stringify(filters)]);\n\n  return { companies, loading, error };\n}\n\nexport function useReservations(filters = {}) {\n  const [reservations, setReservations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const refresh = async () =&gt; {\n    try {\n      setLoading(true);\n      const data = await api.getMyReservations(filters);\n      setReservations(data.reservations || []);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() =&gt; {\n    refresh();\n  }, [JSON.stringify(filters)]);\n\n  return { reservations, loading, error, refresh };\n}\n</code></pre>"},{"location":"api/examples/#composant-react-exemple","title":"Composant React exemple","text":"<pre><code>// components/CompanyList.jsx\nimport React from 'react';\nimport { useCompanies } from '../hooks/useAPI';\n\nexport default function CompanyList({ city, sector }) {\n  const { companies, loading, error } = useCompanies({ city, sector });\n\n  if (loading) {\n    return &lt;div className=\"text-center p-8\"&gt;Chargement...&lt;/div&gt;;\n  }\n\n  if (error) {\n    return (\n      &lt;div className=\"bg-red-100 text-red-700 p-4 rounded\"&gt;\n        Erreur: {error}\n      &lt;/div&gt;\n    );\n  }\n\n  return (\n    &lt;div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\"&gt;\n      {companies.map(company =&gt; (\n        &lt;div key={company.id} className=\"bg-white shadow rounded-lg p-6\"&gt;\n          &lt;h3 className=\"text-xl font-bold\"&gt;{company.name}&lt;/h3&gt;\n          &lt;p className=\"text-gray-600\"&gt;{company.city}&lt;/p&gt;\n          &lt;p className=\"mt-2\"&gt;{company.description}&lt;/p&gt;\n          &lt;button\n            className=\"mt-4 bg-blue-500 text-white px-4 py-2 rounded\"\n            onClick={() =&gt; window.location.href = `/companies/${company.id}`}\n          &gt;\n            Voir les cr\u00e9neaux\n          &lt;/button&gt;\n        &lt;/div&gt;\n      ))}\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"api/examples/#gestion-des-erreurs","title":"Gestion des erreurs","text":""},{"location":"api/examples/#python","title":"Python","text":"<pre><code>try:\n    reservation = api.create_reservation(...)\nexcept requests.exceptions.HTTPError as e:\n    if e.response.status_code == 401:\n        print(\"Non authentifi\u00e9 - veuillez vous reconnecter\")\n    elif e.response.status_code == 409:\n        print(\"Cr\u00e9neau d\u00e9j\u00e0 r\u00e9serv\u00e9\")\n    else:\n        print(f\"Erreur: {e.response.json().get('error')}\")\nexcept Exception as e:\n    print(f\"Erreur inattendue: {e}\")\n</code></pre>"},{"location":"api/examples/#javascript","title":"JavaScript","text":"<pre><code>try {\n  const reservation = await api.createReservation(data);\n  console.log('R\u00e9servation cr\u00e9\u00e9e:', reservation);\n} catch (error) {\n  if (error.message.includes('401')) {\n    // Rediriger vers login\n    window.location.href = '/login';\n  } else if (error.message.includes('409')) {\n    alert('Ce cr\u00e9neau est d\u00e9j\u00e0 r\u00e9serv\u00e9');\n  } else {\n    alert('Erreur: ' + error.message);\n  }\n}\n</code></pre>"},{"location":"api/examples/#tests-unitaires","title":"Tests unitaires","text":""},{"location":"api/examples/#python-avec-pytest","title":"Python avec pytest","text":"<pre><code># tests/test_api.py\nimport pytest\nfrom api_client import BookByClickAPI\n\n@pytest.fixture\ndef api():\n    return BookByClickAPI(base_url=\"http://localhost:5000/api\")\n\ndef test_login(api):\n    user = api.login(\"test@example.com\", \"password\")\n    assert user[\"email\"] == \"test@example.com\"\n    assert api.token is not None\n\ndef test_get_companies(api):\n    api.login(\"test@example.com\", \"password\")\n    companies = api.get_companies(city=\"Paris\")\n    assert \"companies\" in companies\n    assert isinstance(companies[\"companies\"], list)\n\ndef test_create_reservation(api):\n    api.login(\"test@example.com\", \"password\")\n    reservation = api.create_reservation(\n        company_id=1,\n        date=\"2024-12-20\",\n        time_start=\"10:00\",\n        time_end=\"11:00\"\n    )\n    assert \"id\" in reservation\n</code></pre>"},{"location":"api/examples/#javascript-avec-jest","title":"JavaScript avec Jest","text":"<pre><code>// __tests__/api.test.js\nimport APIService from '../services/api';\n\ndescribe('API Service', () =&gt; {\n  let api;\n\n  beforeEach(() =&gt; {\n    api = new APIService();\n  });\n\n  test('login returns user and token', async () =&gt; {\n    const result = await api.login('test@example.com', 'password');\n    expect(result).toHaveProperty('token');\n    expect(result).toHaveProperty('user');\n  });\n\n  test('getCompanies returns list', async () =&gt; {\n    await api.login('test@example.com', 'password');\n    const companies = await api.getCompanies({ city: 'Paris' });\n    expect(companies).toHaveProperty('companies');\n    expect(Array.isArray(companies.companies)).toBe(true);\n  });\n});\n</code></pre>"},{"location":"api/examples/#ressources-supplementaires","title":"Ressources suppl\u00e9mentaires","text":"<ul> <li>Documentation API compl\u00e8te</li> <li>Guide d'architecture</li> <li>Guide de d\u00e9veloppement</li> </ul>"},{"location":"architecture/backend/","title":"Architecture Backend","text":""},{"location":"architecture/backend/#vue-densemble","title":"Vue d'ensemble","text":"<p>Le backend est une API REST construite avec Flask (Python) qui g\u00e8re la logique m\u00e9tier et la communication avec la base de donn\u00e9es PostgreSQL 15 via SQLAlchemy ORM.</p>"},{"location":"architecture/backend/#stack-technique","title":"Stack Technique","text":"<ul> <li>Framework: Flask</li> <li>ORM: SQLAlchemy (Flask-SQLAlchemy)</li> <li>Base de donn\u00e9es: PostgreSQL 15</li> <li>CORS: Flask-CORS</li> <li>Email: SMTP via conteneur Docker</li> <li>Conteneurisation: Docker Compose (DB + Mail)</li> </ul>"},{"location":"architecture/backend/#structure-du-projet","title":"Structure du projet","text":"<pre><code>Backend/\n\u2514\u2500\u2500 src/\n    \u251c\u2500\u2500 app.py                # Point d'entr\u00e9e avec factory pattern\n    \u251c\u2500\u2500 models.py             # Mod\u00e8les SQLAlchemy\n    \u251c\u2500\u2500 pages.py              # Blueprint avec les routes\n    \u251c\u2500\u2500 extension.py          # Initialisation db et cors\n    \u251c\u2500\u2500 mailer.py             # Gestion des emails\n    \u251c\u2500\u2500 seed.py               # Donn\u00e9es de test\n    \u251c\u2500\u2500 docker-compose.yml    # PostgreSQL + Serveur Mail\n    \u251c\u2500\u2500 data/                 # Fichiers JSON\n    \u2502   \u251c\u2500\u2500 services.json\n    \u2502   \u2514\u2500\u2500 communes-france-avec-polygon-2025.json\n    \u2514\u2500\u2500 mail/                 # Configuration serveur mail\n</code></pre>"},{"location":"architecture/backend/#point-dentree-apppy","title":"Point d'entr\u00e9e : app.py","text":"<p>Utilise le factory pattern pour cr\u00e9er l'application Flask avec une configuration flexible.</p> <pre><code>from flask import Flask\nfrom pages import pages_blueprint\nimport os\nfrom extension import db, cors\n\ndef create_app():\n    app = Flask(__name__)\n\n    # Configuration de la base de donn\u00e9es\n    app.config[\"SQLALCHEMY_DATABASE_URI\"] = os.getenv(\n        \"SQLALCHEMY_DATABASE_URI\",\n        \"postgresql://appuser:apppassword@localhost:5432/appdb\"\n    )\n    app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n\n    # Enregistrement du blueprint\n    app.register_blueprint(pages_blueprint)\n\n    # Initialisation des extensions\n    db.init_app(app)\n    cors(app)\n\n    # Cr\u00e9ation des tables et seed de donn\u00e9es\n    try:\n        with app.app_context():\n            db.create_all()\n            import seed\n    except Exception as e:\n        print(f\"Avertissement: Impossible de se connecter \u00e0 la base de donn\u00e9es: {e}\")\n\n    return app\n\nif __name__ == \"__main__\":\n    app = create_app()\n    app.run(debug=True, port=5000)\n</code></pre>"},{"location":"architecture/backend/#extensions-extensionpy","title":"Extensions : extension.py","text":"<p>Initialise les extensions Flask utilis\u00e9es dans l'application.</p> <pre><code>from flask_sqlalchemy import SQLAlchemy\nfrom flask_cors import CORS\n\ndb = SQLAlchemy()\ncors = CORS\n</code></pre>"},{"location":"architecture/backend/#configuration","title":"Configuration","text":""},{"location":"architecture/backend/#variables-denvironnement","title":"Variables d'environnement","text":"<pre><code>SQLALCHEMY_DATABASE_URI=postgresql://appuser:apppassword@localhost:5432/appdb\n</code></pre>"},{"location":"architecture/backend/#connexion-a-la-base-de-donnees","title":"Connexion \u00e0 la base de donn\u00e9es","text":"<ul> <li>SGBD: PostgreSQL 15</li> <li>URL: <code>postgresql://appuser:apppassword@localhost:5432/appdb</code></li> <li>Port: 5432</li> <li>Utilisateur: appuser</li> <li>Mot de passe: apppassword</li> <li>Base: appdb</li> </ul>"},{"location":"architecture/backend/#modeles-de-donnees-modelspy","title":"Mod\u00e8les de donn\u00e9es : models.py","text":"<p>D\u00e9finit tous les mod\u00e8les SQLAlchemy repr\u00e9sentant les tables de la base de donn\u00e9es.</p>"},{"location":"architecture/backend/#modeles-disponibles","title":"Mod\u00e8les disponibles","text":"<pre><code>from extension import db\n\nclass TypeUtilisateur(db.Model):\n    __tablename__ = \"typeutilisateur\"\n    idType = db.Column(db.Integer, primary_key=True)\n    role = db.Column(db.String(), nullable=False)\n    description = db.Column(db.String(), nullable=False)\n    utilisateurs = db.relationship('Utilisateur', backref='type')\n\nclass Utilisateur(db.Model):\n    __tablename__ = \"utilisateur\"\n    idClient = db.Column(db.Integer, primary_key=True)\n    nom = db.Column(db.String(), nullable=False)\n    prenom = db.Column(db.String(), nullable=False)\n    dateNaissance = db.Column(db.Date, nullable=False)\n    email = db.Column(db.String(), nullable=False)\n    motDePasseHash = db.Column(db.String(), nullable=False)\n    telephone = db.Column(db.String(), nullable=False)\n    dateInscription = db.Column(db.DateTime, nullable=False)\n    idTypeUtilisateur = db.Column(db.Integer, db.ForeignKey('typeutilisateur.idType'))\n\n    entreprises = db.relationship('Entreprise', backref='gerant')\n    reservations = db.relationship('Reservation', backref='client')\n\nclass Entreprise(db.Model):\n    __tablename__ = \"entreprise\"\n    idPro = db.Column(db.Integer, primary_key=True)\n    nomEntreprise = db.Column(db.String(), nullable=False)\n    nomSecteur = db.Column(db.String(), nullable=False)\n    idGerant = db.Column(db.Integer, db.ForeignKey('utilisateur.idClient'))\n    slugPublic = db.Column(db.String(), nullable=False)\n    adresse = db.Column(db.String(), nullable=False)\n    codePostal = db.Column(db.String(), nullable=False)\n    ville = db.Column(db.String(), nullable=False)\n    pays = db.Column(db.String(), nullable=False)\n\n    creneaus = db.relationship('Creneau', backref='entreprise')\n    reservations = db.relationship('Reservation', backref='entreprise')\n    prestations = db.relationship('Prestation', backref='entreprise')\n    evenements = db.relationship('Evenement', backref='entreprise')\n    semainestype = db.relationship('SemaineType', backref='entreprise')\n\nclass Prestation(db.Model):\n    __tablename__ = \"prestation\"\n    idPrestation = db.Column(db.Integer, primary_key=True)\n    idPro = db.Column(db.Integer, db.ForeignKey('entreprise.idPro'))\n    libelle = db.Column(db.String)\n    dureeMinutes = db.Column(db.Integer, nullable=False)\n    tarif = db.Column(db.Numeric(10,2))\n    reservations = db.relationship('Reservation', backref=\"prestation\")\n\nclass Creneau(db.Model):\n    __tablename__ = \"creneau\"\n    idCreneau = db.Column(db.Integer, primary_key=True)\n    idPro = db.Column(db.Integer, db.ForeignKey('entreprise.idPro'))\n    dateHeureDebut = db.Column(db.DateTime, nullable=False)\n    dateHeureFin = db.Column(db.DateTime, nullable=False)\n    statut = db.Column(db.Boolean, nullable=False)\n\nclass Reservation(db.Model):\n    __tablename__ = \"reservation\"\n    idReservation = db.Column(db.Integer, primary_key=True)\n    idPro = db.Column(db.Integer, db.ForeignKey('entreprise.idPro'))\n    idClient = db.Column(db.Integer, db.ForeignKey('utilisateur.idClient'))\n    idPrestation = db.Column(db.Integer, db.ForeignKey('prestation.idPrestation'))\n    commentaireClient = db.Column(db.String())\n    statut = db.Column(db.Boolean, nullable=False)\n    dateCreation = db.Column(db.DateTime, nullable=False)\n    EventEmails = db.relationship('EventEmail', backref='reservation')\n\nclass Evenement(db.Model):\n    __tablename__ = \"evenement\"\n    idEvenement = db.Column(db.Integer, primary_key=True)\n    idPro = db.Column(db.Integer, db.ForeignKey('entreprise.idPro'))\n    titre = db.Column(db.String(), nullable=False)\n    description = db.Column(db.String(), nullable=False)\n    dateDebut = db.Column(db.DateTime, nullable=False)\n    dateFin = db.Column(db.DateTime, nullable=False)\n    typeEvenement = db.Column(db.String(), nullable=False)\n\nclass SemaineType(db.Model):\n    __tablename__ = \"semainetype\"\n    idSemaineType = db.Column(db.Integer, primary_key=True)\n    idPro = db.Column(db.Integer, db.ForeignKey('entreprise.idPro'))\n    libelle = db.Column(db.String())\n    description = db.Column(db.String())\n    joursPattern = db.Column(db.String())\n\nclass EventEmail(db.Model):\n    __tablename__ = \"eventemail\"\n    idLog = db.Column(db.Integer, primary_key=True)\n    idReservation = db.Column(db.Integer, db.ForeignKey('reservation.idReservation'))\n    email = db.Column(db.String(), nullable=False)\n    dateEnvoi = db.Column(db.DateTime, nullable=False)\n    statutEnvoi = db.Column(db.Boolean, nullable=False)\n</code></pre>"},{"location":"architecture/backend/#routes-api-pagespy","title":"Routes API : pages.py","text":"<p>Le blueprint <code>pages_blueprint</code> contient toutes les routes de l'API.</p>"},{"location":"architecture/backend/#routes-disponibles","title":"Routes disponibles","text":"<pre><code>from flask import Blueprint, request, jsonify\nfrom extension import cors, db\nfrom models import Utilisateur, Entreprise, Reservation\nfrom mailer import send_contact_email\n\npages_blueprint = Blueprint(\"pages\", __name__)\n\n# Inscription\n@pages_blueprint.route(\"/register_form\", methods=[\"POST\"])\ndef register_form():\n    email = request.form.get(\"email\")\n    password = request.form.get(\"password\")\n    nom = request.form.get(\"nom\")\n    # Logique d'inscription\n    return \"OK\"\n\n# Connexion\n@pages_blueprint.route(\"/login_form\", methods=[\"POST\"])\ndef login_form():\n    email = request.form.get(\"email\")\n    password = request.form.get(\"password\")\n    return jsonify({\"email\": email, \"password\": password})\n\n# Test r\u00e9cup\u00e9ration utilisateur\n@pages_blueprint.route(\"/teste\", methods=[\"POST\"])\ndef recap():\n    username = request.form.get(\"username\")\n    user = Utilisateur.query.filter(Utilisateur.nom == username).first()\n    return jsonify({\n        \"id\": user.idClient,\n        \"nom\": user.nom,\n        \"prenom\": user.prenom,\n        \"email\": user.email\n    })\n\n# Formulaire de contact\n@pages_blueprint.route(\"/contact\", methods=[\"POST\"])\ndef contact():\n    data = request.json\n    name = data.get(\"name\")\n    email = data.get(\"email\")\n    phone = data.get(\"phone\")\n    message = data.get(\"message\")\n\n    success = send_contact_email(name, email, phone, message)\n\n    if success:\n        return jsonify({\"success\": True}), 200\n    else:\n        return jsonify({\"success\": False}), 500\n\n# Autocompl\u00e9tion services\n@pages_blueprint.route(\"/api/services\", methods=[\"GET\"])\ndef get_services():\n    # Charge services.json et retourne les services filtr\u00e9s\n    query = request.args.get('q', '').lower()\n    # ... logique de filtrage\n    return jsonify(services)\n\n# Autocompl\u00e9tion villes\n@pages_blueprint.route(\"/api/villes\", methods=[\"GET\"])\ndef get_villes():\n    # Charge communes-france-avec-polygon-2025.json\n    query = request.args.get('q', '').lower()\n    # ... logique de filtrage\n    return jsonify(villes[:15])\n</code></pre>"},{"location":"architecture/backend/#gestion-des-emails-mailerpy","title":"Gestion des emails : mailer.py","text":"<p>Envoie les emails via le serveur SMTP conteneuris\u00e9.</p> <pre><code>import smtplib\nfrom email.mime.text import MIMEText\nfrom email.mime.multipart import MIMEMultipart\n\ndef send_contact_email(name, email, phone, message):\n    try:\n        msg = MIMEMultipart()\n        msg['From'] = 'Book By Click &lt;noreply@bookbyclick.com&gt;'\n        msg['To'] = 'delacroixarthur016@gmail.com'\n        msg['Subject'] = f'Nouveau message de contact - {name}'\n\n        body = f\"\"\"\nVous avez re\u00e7u un nouveau message via le formulaire de contact :\n\nNom: {name}\nEmail: {email}\nT\u00e9l\u00e9phone: {phone}\n\nMessage:\n{message}\n\n---\nVous pouvez r\u00e9pondre directement \u00e0 : {email}\n\"\"\"\n        msg.attach(MIMEText(body, 'plain'))\n\n        # Connexion au serveur SMTP local (conteneur mail)\n        server = smtplib.SMTP('localhost', 25, timeout=10)\n        server.send_message(msg)\n        server.quit()\n\n        return True\n    except Exception as e:\n        print(f\"Erreur lors de l'envoi de l'email: {e}\")\n        return False\n</code></pre>"},{"location":"architecture/backend/#donnees-de-test-seedpy","title":"Donn\u00e9es de test : seed.py","text":"<p>Script pour initialiser la base avec des donn\u00e9es de test.</p> <pre><code>from app import create_app\nfrom models import db, Utilisateur, TypeUtilisateur, Entreprise\nfrom datetime import datetime, date\n\napp = create_app()\n\nwith app.app_context():\n    db.drop_all()\n    db.create_all()\n\n    # Types d'utilisateur\n    admin = TypeUtilisateur(role=\"admin\", description=\"Administrateur du syst\u00e8me\")\n    client = TypeUtilisateur(role=\"client\", description=\"Client de base\")\n    db.session.add_all([admin, client])\n    db.session.commit()\n\n    # Utilisateurs\n    u1 = Utilisateur(\n        nom=\"Dupont\",\n        prenom=\"Jean\",\n        dateNaissance=date(1990, 5, 20),\n        email=\"jean.dupont@example.com\",\n        motDePasseHash=\"hash123\",\n        telephone=\"0601020304\",\n        dateInscription=datetime.now(),\n        idTypeUtilisateur=admin.idType\n    )\n    db.session.add(u1)\n    db.session.commit()\n\n    # Entreprise\n    e1 = Entreprise(\n        nomEntreprise=\"Salon Beaut\u00e9 Zen\",\n        nomSecteur=\"Bien-\u00eatre\",\n        idGerant=u1.idClient,\n        slugPublic=\"beaute-zen\",\n        adresse=\"12 rue de la Paix\",\n        codePostal=\"75001\",\n        ville=\"Paris\",\n        pays=\"France\"\n    )\n    db.session.add(e1)\n    db.session.commit()\n</code></pre>"},{"location":"architecture/backend/#infrastructure-docker","title":"Infrastructure Docker","text":""},{"location":"architecture/backend/#docker-composeyml","title":"docker-compose.yml","text":"<p>Contient PostgreSQL 15 et un serveur mail SMTP.</p> <pre><code>services:\n  db:\n    image: postgres:15\n    container_name: db\n    restart: unless-stopped\n    environment:\n      POSTGRES_USER: appuser\n      POSTGRES_PASSWORD: apppassword\n      POSTGRES_DB: appdb\n    ports:\n      - \"5432:5432\"\n    volumes:\n      - db_data:/var/lib/postgresql/data\n\n  mail:\n    build:\n      context: ./mail\n    container_name: mail\n    restart: unless-stopped\n    dns:\n      - 8.8.8.8\n      - 8.8.4.4\n    environment:\n      MAIL_DOMAIN: \"gmail.com\"\n      RELAY_HOST: \"smtp.gmail.com\"\n      RELAY_PORT: \"587\"\n      RELAY_USER: \"arthuralternance.pro@gmail.com\"\n      RELAY_PASS: \"sfaj vcqj pxkh wmzs\"\n    ports:\n      - \"25:25\"\n\nvolumes:\n  db_data:\n</code></pre>"},{"location":"architecture/backend/#lancer-linfrastructure","title":"Lancer l'infrastructure","text":"<pre><code>cd Backend/src\ndocker-compose up -d\n</code></pre>"},{"location":"architecture/backend/#lancement-du-serveur","title":"Lancement du serveur","text":""},{"location":"architecture/backend/#developpement","title":"D\u00e9veloppement","text":"<pre><code>cd Backend/src\n\n# Lancer le serveur Flask (port 5000)\npython app.py\n</code></pre> <p>Le serveur d\u00e9marre avec les fonctionnalit\u00e9s suivantes: - Cr\u00e9ation automatique des tables via <code>db.create_all()</code> - Import automatique du fichier <code>seed.py</code> pour les donn\u00e9es de test - Mode debug activ\u00e9 - CORS configur\u00e9 pour accepter les requ\u00eates du frontend</p>"},{"location":"architecture/backend/#verifier-que-tout-fonctionne","title":"V\u00e9rifier que tout fonctionne","text":"<pre><code># Tester une route\ncurl http://localhost:5000/api/services\n</code></pre>"},{"location":"architecture/backend/#recapitulatif-des-endpoints","title":"R\u00e9capitulatif des endpoints","text":"M\u00e9thode Route Description POST <code>/register_form</code> Inscription utilisateur POST <code>/login_form</code> Connexion utilisateur POST <code>/teste</code> Test r\u00e9cup\u00e9ration utilisateur par nom POST <code>/contact</code> Envoi formulaire de contact GET <code>/api/services</code> Autocompl\u00e9tion des services GET <code>/api/villes</code> Autocompl\u00e9tion des villes fran\u00e7aises"},{"location":"architecture/backend/#architecture-actuelle-vs-architecture-recommandee","title":"Architecture actuelle vs Architecture recommand\u00e9e","text":""},{"location":"architecture/backend/#etat-actuel","title":"\u00c9tat actuel","text":"<p>L'architecture actuelle est simple et fonctionne pour un prototype: - Un seul blueprint <code>pages.py</code> avec toutes les routes - Pas de couche service (logique directement dans les routes) - Pas de validation des donn\u00e9es - Pas d'authentification JWT - Pas de middleware de s\u00e9curit\u00e9</p>"},{"location":"architecture/backend/#ameliorations-futures-recommandees","title":"Am\u00e9liorations futures recommand\u00e9es","text":"<ol> <li>Authentification s\u00e9curis\u00e9e</li> <li>Impl\u00e9menter JWT avec Flask-JWT-Extended</li> <li>Hasher les mots de passe avec Werkzeug ou bcrypt</li> <li> <p>Ajouter des decorators <code>@login_required</code></p> </li> <li> <p>Organisation du code</p> </li> <li>Cr\u00e9er plusieurs blueprints (auth, reservations, companies, etc.)</li> <li>S\u00e9parer la logique m\u00e9tier dans des services</li> <li> <p>Cr\u00e9er des validators pour les donn\u00e9es entrantes</p> </li> <li> <p>S\u00e9curit\u00e9</p> </li> <li>Ajouter rate limiting avec Flask-Limiter</li> <li>Valider et sanitiser toutes les entr\u00e9es utilisateur</li> <li>Utiliser des variables d'environnement pour les secrets (pas de mots de passe en dur)</li> <li> <p>Impl\u00e9menter HTTPS en production</p> </li> <li> <p>Performance</p> </li> <li>Ajouter du cache avec Redis</li> <li>Optimiser les requ\u00eates SQLAlchemy</li> <li> <p>Impl\u00e9menter la pagination pour les endpoints</p> </li> <li> <p>Tests</p> </li> <li>Ajouter pytest et des tests unitaires</li> <li>Tests d'int\u00e9gration pour les routes</li> <li>Tests des mod\u00e8les SQLAlchemy</li> </ol>"},{"location":"architecture/backend/#prochaines-etapes","title":"Prochaines \u00e9tapes","text":"<ul> <li>Base de donn\u00e9es - Sch\u00e9ma d\u00e9taill\u00e9 PostgreSQL</li> <li>API Endpoints - Documentation compl\u00e8te des routes</li> <li>Guide de d\u00e9veloppement - Configuration et d\u00e9ploiement</li> </ul>"},{"location":"architecture/database/","title":"Base de donn\u00e9es","text":""},{"location":"architecture/database/#vue-densemble","title":"Vue d'ensemble","text":"<p>La base de donn\u00e9es PostgreSQL 15 stocke toutes les donn\u00e9es du syst\u00e8me de r\u00e9servation Book By Click. Elle comprend 9 tables principales g\u00e9rant les utilisateurs, les entreprises, les r\u00e9servations et les \u00e9v\u00e9nements.</p>"},{"location":"architecture/database/#configuration-docker","title":"Configuration Docker","text":"<p>Le fichier <code>Backend/src/docker-compose.yml</code> configure PostgreSQL :</p> <pre><code>services:\n  db:\n    image: postgres:15\n    container_name: db\n    restart: unless-stopped\n    environment:\n      POSTGRES_USER: appuser\n      POSTGRES_PASSWORD: apppassword\n      POSTGRES_DB: appdb\n    ports:\n      - \"5432:5432\"\n    volumes:\n      - db_data:/var/lib/postgresql/data\n\nvolumes:\n  db_data:\n</code></pre> <p>Informations de connexion : - Host : <code>localhost</code> - Port : <code>5432</code> - Database : <code>appdb</code> - User : <code>appuser</code> - Password : <code>apppassword</code></p>"},{"location":"architecture/database/#schema-de-la-base","title":"Sch\u00e9ma de la base","text":""},{"location":"architecture/database/#diagramme-erd","title":"Diagramme ERD","text":"<pre><code>erDiagram\n    TYPEUTILISATEUR ||--o{ UTILISATEUR : \"d\u00e9finit le r\u00f4le\"\n    UTILISATEUR ||--o{ ENTREPRISE : \"g\u00e8re\"\n    UTILISATEUR ||--o{ RESERVATION : \"effectue\"\n    ENTREPRISE ||--o{ PRESTATION : \"propose\"\n    ENTREPRISE ||--o{ CRENEAU : \"configure\"\n    ENTREPRISE ||--o{ RESERVATION : \"re\u00e7oit\"\n    ENTREPRISE ||--o{ EVENEMENT : \"organise\"\n    ENTREPRISE ||--o{ SEMAINETYPE : \"d\u00e9finit\"\n    PRESTATION ||--o{ RESERVATION : \"concerne\"\n    RESERVATION ||--o{ EVENTEMAIL : \"g\u00e9n\u00e8re\"\n\n    TYPEUTILISATEUR {\n        int idType PK\n        string role\n        string description\n    }\n\n    UTILISATEUR {\n        int idClient PK\n        string nom\n        string prenom\n        date dateNaissance\n        string email\n        string motDePasseHash\n        string telephone\n        datetime dateInscription\n        int idTypeUtilisateur FK\n    }\n\n    ENTREPRISE {\n        int idPro PK\n        string nomEntreprise\n        string nomSecteur\n        int idGerant FK\n        string slugPublic\n        string adresse\n        string codePostal\n        string ville\n        string pays\n    }\n\n    PRESTATION {\n        int idPrestation PK\n        int idPro FK\n        string libelle\n        int dureeMinutes\n        decimal tarif\n    }\n\n    CRENEAU {\n        int idCreneau PK\n        int idPro FK\n        datetime dateHeureDebut\n        datetime dateHeureFin\n        boolean statut\n    }\n\n    RESERVATION {\n        int idReservation PK\n        int idPro FK\n        int idClient FK\n        int idPrestation FK\n        string commentaireClient\n        boolean statut\n        datetime dateCreation\n    }\n\n    EVENEMENT {\n        int idEvenement PK\n        int idPro FK\n        string titre\n        string description\n        datetime dateDebut\n        datetime dateFin\n        string typeEvenement\n    }\n\n    SEMAINETYPE {\n        int idSemaineType PK\n        int idPro FK\n        string libelle\n        string description\n        string joursPattern\n    }\n\n    EVENTEMAIL {\n        int idLog PK\n        int idReservation FK\n        string email\n        datetime dateEnvoi\n        boolean statutEnvoi\n    }</code></pre>"},{"location":"architecture/database/#tables","title":"Tables","text":""},{"location":"architecture/database/#typeutilisateur","title":"typeutilisateur","text":"<p>D\u00e9finit les types/r\u00f4les d'utilisateurs dans le syst\u00e8me (admin, client, professionnel, etc.).</p> <p>Mod\u00e8le SQLAlchemy : <code>TypeUtilisateur</code></p> Colonne Type Contraintes Description idType INTEGER PRIMARY KEY Identifiant unique du type role VARCHAR NOT NULL Nom du r\u00f4le (ex: \"admin\", \"client\", \"pro\") description VARCHAR NOT NULL Description du r\u00f4le <p>Relations : - <code>utilisateurs</code> : Liste des utilisateurs de ce type</p> <pre><code>CREATE TABLE typeutilisateur (\n    idType SERIAL PRIMARY KEY,\n    role VARCHAR NOT NULL,\n    description VARCHAR NOT NULL\n);\n</code></pre>"},{"location":"architecture/database/#utilisateur","title":"utilisateur","text":"<p>Stocke tous les utilisateurs du syst\u00e8me (clients et g\u00e9rants d'entreprise).</p> <p>Mod\u00e8le SQLAlchemy : <code>Utilisateur</code></p> Colonne Type Contraintes Description idClient INTEGER PRIMARY KEY Identifiant unique de l'utilisateur nom VARCHAR NOT NULL Nom de famille prenom VARCHAR NOT NULL Pr\u00e9nom dateNaissance DATE NOT NULL Date de naissance email VARCHAR NOT NULL Adresse email (unique) motDePasseHash VARCHAR NOT NULL Hash du mot de passe (bcrypt) telephone VARCHAR NOT NULL Num\u00e9ro de t\u00e9l\u00e9phone dateInscription TIMESTAMP NOT NULL Date d'inscription idTypeUtilisateur INTEGER FK NOT NULL R\u00e9f\u00e9rence vers typeutilisateur <p>Relations : - <code>type</code> : TypeUtilisateur associ\u00e9 - <code>entreprises</code> : Entreprises g\u00e9r\u00e9es par cet utilisateur - <code>reservations</code> : R\u00e9servations effectu\u00e9es par cet utilisateur</p> <pre><code>CREATE TABLE utilisateur (\n    idClient SERIAL PRIMARY KEY,\n    nom VARCHAR NOT NULL,\n    prenom VARCHAR NOT NULL,\n    dateNaissance DATE NOT NULL,\n    email VARCHAR NOT NULL UNIQUE,\n    motDePasseHash VARCHAR NOT NULL,\n    telephone VARCHAR NOT NULL,\n    dateInscription TIMESTAMP NOT NULL,\n    idTypeUtilisateur INTEGER NOT NULL REFERENCES typeutilisateur(idType)\n);\n\nCREATE INDEX idx_utilisateur_email ON utilisateur(email);\nCREATE INDEX idx_utilisateur_type ON utilisateur(idTypeUtilisateur);\n</code></pre>"},{"location":"architecture/database/#entreprise","title":"entreprise","text":"<p>Repr\u00e9sente les entreprises qui proposent des services de r\u00e9servation.</p> <p>Mod\u00e8le SQLAlchemy : <code>Entreprise</code></p> Colonne Type Contraintes Description idPro INTEGER PRIMARY KEY Identifiant unique de l'entreprise nomEntreprise VARCHAR NOT NULL Nom commercial nomSecteur VARCHAR NOT NULL Secteur d'activit\u00e9 idGerant INTEGER FK NOT NULL R\u00e9f\u00e9rence vers utilisateur (g\u00e9rant) slugPublic VARCHAR NOT NULL URL slug pour page publique adresse VARCHAR NOT NULL Adresse compl\u00e8te codePostal VARCHAR NOT NULL Code postal ville VARCHAR NOT NULL Ville pays VARCHAR NOT NULL Pays <p>Relations : - <code>gerant</code> : Utilisateur propri\u00e9taire/g\u00e9rant - <code>creneaus</code> : Cr\u00e9neaux horaires disponibles - <code>reservations</code> : R\u00e9servations re\u00e7ues - <code>prestations</code> : Services propos\u00e9s - <code>evenements</code> : \u00c9v\u00e9nements organis\u00e9s - <code>semainestype</code> : Mod\u00e8les de semaines configur\u00e9s</p> <pre><code>CREATE TABLE entreprise (\n    idPro SERIAL PRIMARY KEY,\n    nomEntreprise VARCHAR NOT NULL,\n    nomSecteur VARCHAR NOT NULL,\n    idGerant INTEGER NOT NULL REFERENCES utilisateur(idClient),\n    slugPublic VARCHAR NOT NULL UNIQUE,\n    adresse VARCHAR NOT NULL,\n    codePostal VARCHAR NOT NULL,\n    ville VARCHAR NOT NULL,\n    pays VARCHAR NOT NULL\n);\n\nCREATE INDEX idx_entreprise_gerant ON entreprise(idGerant);\nCREATE INDEX idx_entreprise_slug ON entreprise(slugPublic);\nCREATE INDEX idx_entreprise_ville ON entreprise(ville);\n</code></pre>"},{"location":"architecture/database/#prestation","title":"prestation","text":"<p>D\u00e9finit les services propos\u00e9s par chaque entreprise.</p> <p>Mod\u00e8le SQLAlchemy : <code>Prestation</code></p> Colonne Type Contraintes Description idPrestation INTEGER PRIMARY KEY Identifiant unique de la prestation idPro INTEGER FK NOT NULL R\u00e9f\u00e9rence vers entreprise libelle VARCHAR NULL Nom de la prestation dureeMinutes INTEGER NOT NULL Dur\u00e9e en minutes tarif NUMERIC(10,2) NULL Prix en euros <p>Relations : - <code>entreprise</code> : Entreprise proposant cette prestation - <code>reservations</code> : R\u00e9servations pour cette prestation</p> <pre><code>CREATE TABLE prestation (\n    idPrestation SERIAL PRIMARY KEY,\n    idPro INTEGER NOT NULL REFERENCES entreprise(idPro) ON DELETE CASCADE,\n    libelle VARCHAR,\n    dureeMinutes INTEGER NOT NULL,\n    tarif NUMERIC(10,2)\n);\n\nCREATE INDEX idx_prestation_pro ON prestation(idPro);\n</code></pre>"},{"location":"architecture/database/#creneau","title":"creneau","text":"<p>G\u00e8re les plages horaires disponibles pour chaque entreprise.</p> <p>Mod\u00e8le SQLAlchemy : <code>Creneau</code></p> Colonne Type Contraintes Description idCreneau INTEGER PRIMARY KEY Identifiant unique du cr\u00e9neau idPro INTEGER FK NOT NULL R\u00e9f\u00e9rence vers entreprise dateHeureDebut TIMESTAMP NOT NULL Date et heure de d\u00e9but dateHeureFin TIMESTAMP NOT NULL Date et heure de fin statut BOOLEAN NOT NULL Disponibilit\u00e9 (true=disponible, false=occup\u00e9) <p>Relations : - <code>entreprise</code> : Entreprise propri\u00e9taire du cr\u00e9neau</p> <pre><code>CREATE TABLE creneau (\n    idCreneau SERIAL PRIMARY KEY,\n    idPro INTEGER NOT NULL REFERENCES entreprise(idPro) ON DELETE CASCADE,\n    dateHeureDebut TIMESTAMP NOT NULL,\n    dateHeureFin TIMESTAMP NOT NULL,\n    statut BOOLEAN NOT NULL\n);\n\nCREATE INDEX idx_creneau_pro ON creneau(idPro);\nCREATE INDEX idx_creneau_date ON creneau(dateHeureDebut, dateHeureFin);\nCREATE INDEX idx_creneau_statut ON creneau(statut);\n</code></pre>"},{"location":"architecture/database/#reservation","title":"reservation","text":"<p>Enregistre les r\u00e9servations effectu\u00e9es par les clients.</p> <p>Mod\u00e8le SQLAlchemy : <code>Reservation</code></p> Colonne Type Contraintes Description idReservation INTEGER PRIMARY KEY Identifiant unique de la r\u00e9servation idPro INTEGER FK NOT NULL R\u00e9f\u00e9rence vers entreprise idClient INTEGER FK NOT NULL R\u00e9f\u00e9rence vers utilisateur (client) idPrestation INTEGER FK NOT NULL R\u00e9f\u00e9rence vers prestation commentaireClient VARCHAR NULL Commentaire optionnel du client statut BOOLEAN NOT NULL \u00c9tat de la r\u00e9servation (true=confirm\u00e9e, false=annul\u00e9e) dateCreation TIMESTAMP NOT NULL Date de cr\u00e9ation de la r\u00e9servation <p>Relations : - <code>entreprise</code> : Entreprise concern\u00e9e - <code>client</code> : Client ayant effectu\u00e9 la r\u00e9servation - <code>prestation</code> : Service r\u00e9serv\u00e9 - <code>EventEmails</code> : Emails envoy\u00e9s li\u00e9s \u00e0 cette r\u00e9servation</p> <pre><code>CREATE TABLE reservation (\n    idReservation SERIAL PRIMARY KEY,\n    idPro INTEGER NOT NULL REFERENCES entreprise(idPro) ON DELETE CASCADE,\n    idClient INTEGER NOT NULL REFERENCES utilisateur(idClient) ON DELETE CASCADE,\n    idPrestation INTEGER NOT NULL REFERENCES prestation(idPrestation) ON DELETE CASCADE,\n    commentaireClient VARCHAR,\n    statut BOOLEAN NOT NULL,\n    dateCreation TIMESTAMP NOT NULL\n);\n\nCREATE INDEX idx_reservation_pro ON reservation(idPro);\nCREATE INDEX idx_reservation_client ON reservation(idClient);\nCREATE INDEX idx_reservation_prestation ON reservation(idPrestation);\nCREATE INDEX idx_reservation_date ON reservation(dateCreation);\nCREATE INDEX idx_reservation_statut ON reservation(statut);\n</code></pre>"},{"location":"architecture/database/#evenement","title":"evenement","text":"<p>Stocke les \u00e9v\u00e9nements sp\u00e9ciaux des entreprises (fermetures, promotions, etc.).</p> <p>Mod\u00e8le SQLAlchemy : <code>Evenement</code></p> Colonne Type Contraintes Description idEvenement INTEGER PRIMARY KEY Identifiant unique de l'\u00e9v\u00e9nement idPro INTEGER FK NOT NULL R\u00e9f\u00e9rence vers entreprise titre VARCHAR NOT NULL Titre de l'\u00e9v\u00e9nement description VARCHAR NOT NULL Description d\u00e9taill\u00e9e dateDebut TIMESTAMP NOT NULL Date et heure de d\u00e9but dateFin TIMESTAMP NOT NULL Date et heure de fin typeEvenement VARCHAR NOT NULL Type (ex: \"fermeture\", \"promotion\", \"vacances\") <p>Relations : - <code>entreprise</code> : Entreprise organisatrice</p> <pre><code>CREATE TABLE evenement (\n    idEvenement SERIAL PRIMARY KEY,\n    idPro INTEGER NOT NULL REFERENCES entreprise(idPro) ON DELETE CASCADE,\n    titre VARCHAR NOT NULL,\n    description VARCHAR NOT NULL,\n    dateDebut TIMESTAMP NOT NULL,\n    dateFin TIMESTAMP NOT NULL,\n    typeEvenement VARCHAR NOT NULL\n);\n\nCREATE INDEX idx_evenement_pro ON evenement(idPro);\nCREATE INDEX idx_evenement_dates ON evenement(dateDebut, dateFin);\nCREATE INDEX idx_evenement_type ON evenement(typeEvenement);\n</code></pre>"},{"location":"architecture/database/#semainetype","title":"semainetype","text":"<p>D\u00e9finit des mod\u00e8les de semaine r\u00e9utilisables pour les horaires d'entreprise.</p> <p>Mod\u00e8le SQLAlchemy : <code>SemaineType</code></p> Colonne Type Contraintes Description idSemaineType INTEGER PRIMARY KEY Identifiant unique du mod\u00e8le idPro INTEGER FK NOT NULL R\u00e9f\u00e9rence vers entreprise libelle VARCHAR NULL Nom du mod\u00e8le description VARCHAR NULL Description joursPattern VARCHAR NULL Pattern JSON des jours et horaires <p>Relations : - <code>entreprise</code> : Entreprise propri\u00e9taire du mod\u00e8le</p> <pre><code>CREATE TABLE semainetype (\n    idSemaineType SERIAL PRIMARY KEY,\n    idPro INTEGER NOT NULL REFERENCES entreprise(idPro) ON DELETE CASCADE,\n    libelle VARCHAR,\n    description VARCHAR,\n    joursPattern VARCHAR\n);\n\nCREATE INDEX idx_semainetype_pro ON semainetype(idPro);\n</code></pre>"},{"location":"architecture/database/#eventemail","title":"eventemail","text":"<p>Journal des emails envoy\u00e9s (confirmations, rappels, etc.).</p> <p>Mod\u00e8le SQLAlchemy : <code>EventEmail</code></p> Colonne Type Contraintes Description idLog INTEGER PRIMARY KEY Identifiant unique du log idReservation INTEGER FK NOT NULL R\u00e9f\u00e9rence vers reservation email VARCHAR NOT NULL Adresse email destinataire dateEnvoi TIMESTAMP NOT NULL Date et heure d'envoi statutEnvoi BOOLEAN NOT NULL Succ\u00e8s de l'envoi (true=envoy\u00e9, false=\u00e9chec) <p>Relations : - <code>reservation</code> : R\u00e9servation associ\u00e9e \u00e0 l'email</p> <pre><code>CREATE TABLE eventemail (\n    idLog SERIAL PRIMARY KEY,\n    idReservation INTEGER NOT NULL REFERENCES reservation(idReservation) ON DELETE CASCADE,\n    email VARCHAR NOT NULL,\n    dateEnvoi TIMESTAMP NOT NULL,\n    statutEnvoi BOOLEAN NOT NULL\n);\n\nCREATE INDEX idx_eventemail_reservation ON eventemail(idReservation);\nCREATE INDEX idx_eventemail_date ON eventemail(dateEnvoi);\nCREATE INDEX idx_eventemail_statut ON eventemail(statutEnvoi);\n</code></pre>"},{"location":"architecture/database/#requetes-utiles","title":"Requ\u00eates utiles","text":""},{"location":"architecture/database/#recuperer-les-creneaux-disponibles-dune-entreprise","title":"R\u00e9cup\u00e9rer les cr\u00e9neaux disponibles d'une entreprise","text":"<pre><code>SELECT c.*\nFROM creneau c\nWHERE c.idPro = 1\n  AND c.statut = TRUE\n  AND c.dateHeureDebut &gt;= NOW()\nORDER BY c.dateHeureDebut;\n</code></pre>"},{"location":"architecture/database/#lister-les-reservations-dun-client-avec-details","title":"Lister les r\u00e9servations d'un client avec d\u00e9tails","text":"<pre><code>SELECT\n    r.idReservation,\n    r.dateCreation,\n    r.statut,\n    r.commentaireClient,\n    e.nomEntreprise,\n    e.ville,\n    p.libelle AS prestation,\n    p.dureeMinutes,\n    p.tarif\nFROM reservation r\nINNER JOIN entreprise e ON r.idPro = e.idPro\nINNER JOIN prestation p ON r.idPrestation = p.idPrestation\nWHERE r.idClient = 1\nORDER BY r.dateCreation DESC;\n</code></pre>"},{"location":"architecture/database/#statistiques-dune-entreprise","title":"Statistiques d'une entreprise","text":"<pre><code>SELECT\n    e.nomEntreprise,\n    COUNT(r.idReservation) AS total_reservations,\n    SUM(CASE WHEN r.statut = TRUE THEN 1 ELSE 0 END) AS confirmees,\n    SUM(CASE WHEN r.statut = FALSE THEN 1 ELSE 0 END) AS annulees,\n    COUNT(DISTINCT r.idClient) AS clients_uniques,\n    SUM(p.tarif) AS chiffre_affaires\nFROM entreprise e\nLEFT JOIN reservation r ON e.idPro = r.idPro\nLEFT JOIN prestation p ON r.idPrestation = p.idPrestation\nWHERE e.idPro = 1\nGROUP BY e.idPro, e.nomEntreprise;\n</code></pre>"},{"location":"architecture/database/#evenements-a-venir-dune-entreprise","title":"\u00c9v\u00e9nements \u00e0 venir d'une entreprise","text":"<pre><code>SELECT *\nFROM evenement\nWHERE idPro = 1\n  AND dateFin &gt;= NOW()\nORDER BY dateDebut;\n</code></pre>"},{"location":"architecture/database/#verifier-les-emails-envoyes-pour-une-reservation","title":"V\u00e9rifier les emails envoy\u00e9s pour une r\u00e9servation","text":"<pre><code>SELECT\n    ee.email,\n    ee.dateEnvoi,\n    ee.statutEnvoi,\n    r.idReservation,\n    r.dateCreation\nFROM eventemail ee\nINNER JOIN reservation r ON ee.idReservation = r.idReservation\nWHERE r.idReservation = 1\nORDER BY ee.dateEnvoi DESC;\n</code></pre>"},{"location":"architecture/database/#trouver-les-entreprises-par-ville","title":"Trouver les entreprises par ville","text":"<pre><code>SELECT\n    e.nomEntreprise,\n    e.nomSecteur,\n    e.adresse,\n    e.ville,\n    u.nom || ' ' || u.prenom AS gerant,\n    u.email AS contact_email\nFROM entreprise e\nINNER JOIN utilisateur u ON e.idGerant = u.idClient\nWHERE e.ville ILIKE '%Paris%'\nORDER BY e.nomEntreprise;\n</code></pre>"},{"location":"architecture/database/#donnees-initiales","title":"Donn\u00e9es initiales","text":"<p>Exemple de donn\u00e9es de test pour initialiser la base :</p> <pre><code>-- Types d'utilisateurs\nINSERT INTO typeutilisateur (role, description) VALUES\n('admin', 'Administrateur syst\u00e8me avec tous les droits'),\n('client', 'Utilisateur client pouvant effectuer des r\u00e9servations'),\n('professionnel', 'G\u00e9rant d''entreprise pouvant g\u00e9rer ses services');\n\n-- Utilisateur admin\nINSERT INTO utilisateur (nom, prenom, dateNaissance, email, motDePasseHash, telephone, dateInscription, idTypeUtilisateur) VALUES\n('Dupont', 'Jean', '1985-05-15', 'admin@bookbyclick.com', '$2b$12$...', '0601020304', NOW(), 1);\n\n-- Utilisateur professionnel\nINSERT INTO utilisateur (nom, prenom, dateNaissance, email, motDePasseHash, telephone, dateInscription, idTypeUtilisateur) VALUES\n('Martin', 'Sophie', '1990-08-22', 'sophie.martin@example.com', '$2b$12$...', '0602030405', NOW(), 3);\n\n-- Entreprise exemple\nINSERT INTO entreprise (nomEntreprise, nomSecteur, idGerant, slugPublic, adresse, codePostal, ville, pays) VALUES\n('Salon Belle Allure', 'Coiffure &amp; Esth\u00e9tique', 2, 'salon-belle-allure', '45 Rue de la Beaut\u00e9', '75001', 'Paris', 'France');\n\n-- Prestations\nINSERT INTO prestation (idPro, libelle, dureeMinutes, tarif) VALUES\n(1, 'Coupe homme', 30, 25.00),\n(1, 'Coupe femme', 45, 35.00),\n(1, 'Coloration', 90, 65.00);\n\n-- Cr\u00e9neaux disponibles (exemple pour une journ\u00e9e)\nINSERT INTO creneau (idPro, dateHeureDebut, dateHeureFin, statut) VALUES\n(1, '2025-01-15 09:00:00', '2025-01-15 09:30:00', TRUE),\n(1, '2025-01-15 09:30:00', '2025-01-15 10:00:00', TRUE),\n(1, '2025-01-15 10:00:00', '2025-01-15 10:30:00', TRUE);\n</code></pre>"},{"location":"architecture/database/#configuration-sqlalchemy","title":"Configuration SQLAlchemy","text":"<p>Le fichier <code>Backend/src/models.py</code> d\u00e9finit tous les mod\u00e8les avec SQLAlchemy :</p> <pre><code>from extension import db\n\nclass TypeUtilisateur(db.Model):\n    __tablename__ = \"typeutilisateur\"\n    idType = db.Column(db.Integer, primary_key=True)\n    role = db.Column(db.String(), nullable=False)\n    description = db.Column(db.String(), nullable=False)\n    utilisateurs = db.relationship('Utilisateur', backref='type')\n\nclass Utilisateur(db.Model):\n    __tablename__ = \"utilisateur\"\n    idClient = db.Column(db.Integer, primary_key=True)\n    nom = db.Column(db.String(), nullable=False)\n    prenom = db.Column(db.String(), nullable=False)\n    dateNaissance = db.Column(db.Date, nullable=False)\n    email = db.Column(db.String(), nullable=False)\n    motDePasseHash = db.Column(db.String(), nullable=False)\n    telephone = db.Column(db.String(), nullable=False)\n    dateInscription = db.Column(db.DateTime, nullable=False)\n    idTypeUtilisateur = db.Column(db.Integer, db.ForeignKey('typeutilisateur.idType'), nullable=False)\n\n    entreprises = db.relationship('Entreprise', backref='gerant')\n    reservations = db.relationship('Reservation', backref='client')\n\n# ... (autres mod\u00e8les)\n</code></pre> <p>Connexion \u00e0 PostgreSQL :</p> <pre><code># Configuration dans config.py ou .env\nSQLALCHEMY_DATABASE_URI = 'postgresql://appuser:apppassword@localhost:5432/appdb'\nSQLALCHEMY_TRACK_MODIFICATIONS = False\n</code></pre>"},{"location":"architecture/database/#sauvegarde-et-restauration","title":"Sauvegarde et restauration","text":""},{"location":"architecture/database/#export-de-la-base","title":"Export de la base","text":"<pre><code># Export complet\ndocker exec -t db pg_dump -U appuser appdb &gt; backup_$(date +%Y%m%d_%H%M%S).sql\n\n# Export avec compression\ndocker exec -t db pg_dump -U appuser appdb | gzip &gt; backup_$(date +%Y%m%d_%H%M%S).sql.gz\n\n# Export structure seulement\ndocker exec -t db pg_dump -U appuser --schema-only appdb &gt; structure.sql\n</code></pre>"},{"location":"architecture/database/#importrestauration","title":"Import/Restauration","text":"<pre><code># Import SQL\ndocker exec -i db psql -U appuser -d appdb &lt; backup.sql\n\n# Import SQL compress\u00e9\ngunzip -c backup.sql.gz | docker exec -i db psql -U appuser -d appdb\n\n# Recr\u00e9er la base avant import\ndocker exec -i db psql -U appuser -c \"DROP DATABASE IF EXISTS appdb;\"\ndocker exec -i db psql -U appuser -c \"CREATE DATABASE appdb;\"\ndocker exec -i db psql -U appuser -d appdb &lt; backup.sql\n</code></pre>"},{"location":"architecture/database/#performance-et-optimisation","title":"Performance et optimisation","text":""},{"location":"architecture/database/#analyser-les-requetes-lentes","title":"Analyser les requ\u00eates lentes","text":"<pre><code>-- Activer le logging des requ\u00eates lentes\nALTER SYSTEM SET log_min_duration_statement = 1000; -- 1 seconde\n\n-- Analyser une requ\u00eate\nEXPLAIN ANALYZE\nSELECT * FROM reservation r\nINNER JOIN entreprise e ON r.idPro = e.idPro\nWHERE r.idClient = 1;\n</code></pre>"},{"location":"architecture/database/#maintenance-reguliere","title":"Maintenance r\u00e9guli\u00e8re","text":"<pre><code>-- Analyser les tables pour mettre \u00e0 jour les statistiques\nANALYZE reservation;\nANALYZE entreprise;\n\n-- Nettoyer et optimiser\nVACUUM ANALYZE reservation;\n\n-- Reconstruire les index\nREINDEX TABLE reservation;\n</code></pre>"},{"location":"architecture/database/#index-additionnels-recommandes","title":"Index additionnels recommand\u00e9s","text":"<pre><code>-- Index compos\u00e9s pour les recherches fr\u00e9quentes\nCREATE INDEX idx_reservation_client_date ON reservation(idClient, dateCreation);\nCREATE INDEX idx_reservation_pro_statut ON reservation(idPro, statut);\n\n-- Index partiel pour les cr\u00e9neaux disponibles\nCREATE INDEX idx_creneau_dispo ON creneau(idPro, dateHeureDebut) WHERE statut = TRUE;\n\n-- Index pour la recherche full-text (si n\u00e9cessaire)\nCREATE INDEX idx_entreprise_nom_gin ON entreprise USING gin(to_tsvector('french', nomEntreprise));\n</code></pre>"},{"location":"architecture/database/#migration-et-evolution-du-schema","title":"Migration et \u00e9volution du sch\u00e9ma","text":"<p>Pour g\u00e9rer les migrations de sch\u00e9ma, utiliser Alembic avec SQLAlchemy :</p> <pre><code># Installer Alembic\npip install alembic\n\n# Initialiser Alembic\nalembic init migrations\n\n# Cr\u00e9er une migration\nalembic revision --autogenerate -m \"Description de la migration\"\n\n# Appliquer les migrations\nalembic upgrade head\n\n# Revenir en arri\u00e8re\nalembic downgrade -1\n</code></pre>"},{"location":"architecture/database/#prochaines-etapes","title":"Prochaines \u00e9tapes","text":"<ul> <li>Architecture Backend</li> <li>API Endpoints</li> <li>Guide de d\u00e9veloppement</li> </ul>"},{"location":"architecture/frontend/","title":"Architecture Frontend","text":""},{"location":"architecture/frontend/#vue-densemble","title":"Vue d'ensemble","text":"<p>Le frontend est une application React 19.2.0 construite avec Vite (Rolldown-Vite 7.2.5) et stylis\u00e9e avec Tailwind CSS 4.1.17.</p>"},{"location":"architecture/frontend/#structure-du-projet","title":"Structure du projet","text":"<pre><code>src/\n\u251c\u2500\u2500 App.jsx                 # Composant racine avec routing (11 routes)\n\u251c\u2500\u2500 main.jsx                # Point d'entr\u00e9e React\n\u251c\u2500\u2500 pages/                  # Pages de l'application (11 pages)\n\u2502   \u251c\u2500\u2500 Home.jsx\n\u2502   \u251c\u2500\u2500 Login.jsx\n\u2502   \u251c\u2500\u2500 Register_User.jsx\n\u2502   \u251c\u2500\u2500 Register_Pro.jsx\n\u2502   \u251c\u2500\u2500 Choice_Register.jsx\n\u2502   \u251c\u2500\u2500 Forgot_password.jsx\n\u2502   \u251c\u2500\u2500 Contact.jsx\n\u2502   \u251c\u2500\u2500 PageResultatRecherche.jsx\n\u2502   \u251c\u2500\u2500 Teste_form.jsx\n\u2502   \u251c\u2500\u2500 Recap.jsx\n\u2502   \u2514\u2500\u2500 dashboard/\n\u2502       \u251c\u2500\u2500 Dashboard_Entreprise.jsx\n\u2502       \u2514\u2500\u2500 sections/\n\u2502           \u251c\u2500\u2500 Dashboard_Content.jsx\n\u2502           \u251c\u2500\u2500 Calendar_Content.jsx\n\u2502           \u251c\u2500\u2500 Clients_Content.jsx\n\u2502           \u2514\u2500\u2500 Statistics_Content.jsx\n\u251c\u2500\u2500 components/             # Composants r\u00e9utilisables (9 composants)\n\u2502   \u251c\u2500\u2500 Header.jsx\n\u2502   \u251c\u2500\u2500 Calendar.jsx\n\u2502   \u251c\u2500\u2500 MonthView.jsx\n\u2502   \u251c\u2500\u2500 WeekView.jsx\n\u2502   \u251c\u2500\u2500 ViewDropdown.jsx\n\u2502   \u251c\u2500\u2500 NavigationButtons.jsx\n\u2502   \u251c\u2500\u2500 UserAvatar.jsx\n\u2502   \u251c\u2500\u2500 reservationClient.jsx\n\u2502   \u2514\u2500\u2500 forms.jsx\n\u251c\u2500\u2500 Hook/                   # Custom hooks\n\u2502   \u2514\u2500\u2500 useCalendar.jsx\n\u2514\u2500\u2500 static/                 # Fichiers CSS\n    \u251c\u2500\u2500 App.css\n    \u2514\u2500\u2500 index.css\n</code></pre>"},{"location":"architecture/frontend/#technologies","title":"Technologies","text":""},{"location":"architecture/frontend/#react-1920","title":"React 19.2.0","text":"<p>Derni\u00e8re version de React avec :</p> <ul> <li>Concurrent features</li> <li>Automatic batching</li> <li>Server Components ready</li> <li>StrictMode activ\u00e9</li> </ul>"},{"location":"architecture/frontend/#vite-rolldown-vite-725","title":"Vite (Rolldown-Vite 7.2.5)","text":"<p>Build tool moderne offrant :</p> <ul> <li>Hot Module Replacement (HMR) ultra-rapide</li> <li>Build optimis\u00e9 avec Rolldown</li> <li>Support ES modules natif</li> <li>CSS code splitting</li> </ul>"},{"location":"architecture/frontend/#tailwind-css-4117","title":"Tailwind CSS 4.1.17","text":"<p>Framework CSS utility-first :</p> <ul> <li>Configuration via <code>@tailwindcss/vite</code> plugin</li> <li>JIT compiler</li> <li>Composants personnalisables</li> <li>Design system coh\u00e9rent</li> </ul>"},{"location":"architecture/frontend/#bibliotheques-tierces","title":"Biblioth\u00e8ques tierces","text":""},{"location":"architecture/frontend/#icones","title":"Ic\u00f4nes","text":"<ul> <li>@heroicons/react 2.2.0 : Ic\u00f4nes Heroicons (utilis\u00e9es dans le Header)</li> <li>lucide-react 0.555.0 : Ic\u00f4nes Lucide (utilis\u00e9es dans Statistics, UserAvatar)</li> </ul>"},{"location":"architecture/frontend/#date-et-calendrier","title":"Date et Calendrier","text":"<ul> <li>date-fns 4.1.0 : Manipulation de dates</li> <li>react-big-calendar 1.19.4 : Composant calendrier (non encore int\u00e9gr\u00e9)</li> </ul>"},{"location":"architecture/frontend/#graphiques","title":"Graphiques","text":"<ul> <li>recharts 3.5.1 : Biblioth\u00e8que de graphiques pour Statistics_Content</li> <li>LineChart : \u00c9volution du CA</li> <li>BarChart : R\u00e9servations par service</li> <li>PieChart : R\u00e9partition CA par service</li> <li>AreaChart : Taux de remplissage</li> <li>RadarChart : Satisfaction clients</li> </ul>"},{"location":"architecture/frontend/#styles","title":"Styles","text":"<ul> <li>styled-components 6.1.19 : CSS-in-JS (optionnel)</li> </ul>"},{"location":"architecture/frontend/#routing","title":"Routing","text":""},{"location":"architecture/frontend/#react-router-dom-7101","title":"React Router DOM 7.10.1","text":"<p>Configuration dans <code>/home/baptiste/VsCode/Book-By-Click-Source/src/App.jsx</code> :</p> <pre><code>import {BrowserRouter, Routes, Route} from \"react-router-dom\"\n\nfunction App() {\n  return (\n    &lt;BrowserRouter&gt;\n      &lt;Routes&gt;\n        &lt;Route path=\"/\" element={&lt;Home /&gt;} /&gt;\n        &lt;Route path=\"/login_form\" element={&lt;Login /&gt;} /&gt;\n        &lt;Route path=\"/register_choice\" element={&lt;Choice_Register /&gt;} /&gt;\n        &lt;Route path=\"/register_form_user\" element={&lt;Resgister_user /&gt;} /&gt;\n        &lt;Route path=\"/register_form_pro\" element={&lt;Resgister_pro /&gt;} /&gt;\n        &lt;Route path=\"/fogot_password\" element={&lt;Forgot_password /&gt;} /&gt;\n        &lt;Route path=\"/dashboard_entreprise\" element={&lt;Dashboard_Entreprise /&gt;}/&gt;\n        &lt;Route path=\"/contact\" element={&lt;Contact /&gt;} /&gt;\n        &lt;Route path=\"/dashboard\" element={&lt;Dashboard_Entreprise /&gt;} /&gt;\n        &lt;Route path=\"/result\" element={&lt;ResultatRecherhce /&gt;} /&gt;\n        &lt;Route path=\"/teste\" element={&lt;Test /&gt;} /&gt;\n        &lt;Route path=\"/recap\" element={&lt;Recap /&gt;} /&gt;\n      &lt;/Routes&gt;\n    &lt;/BrowserRouter&gt;\n  )\n}\n</code></pre>"},{"location":"architecture/frontend/#routes-definies","title":"Routes d\u00e9finies","text":"Route Composant Description <code>/</code> Home Page d'accueil <code>/login_form</code> Login Connexion utilisateur <code>/register_choice</code> Choice_Register Choix du type d'inscription <code>/register_form_user</code> Register_User Inscription \u00e9tudiant <code>/register_form_pro</code> Register_Pro Inscription entreprise <code>/fogot_password</code> Forgot_password R\u00e9cup\u00e9ration mot de passe <code>/contact</code> Contact Page de contact <code>/dashboard</code> Dashboard_Entreprise Dashboard entreprise (alias) <code>/dashboard_entreprise</code> Dashboard_Entreprise Dashboard entreprise <code>/result</code> PageResultatRecherche R\u00e9sultats de recherche <code>/teste</code> Teste_form Page de test <code>/recap</code> Recap R\u00e9capitulatif"},{"location":"architecture/frontend/#composants","title":"Composants","text":""},{"location":"architecture/frontend/#pages-principales","title":"Pages principales","text":""},{"location":"architecture/frontend/#homejsx","title":"Home.jsx","text":"<p>Page d'accueil de l'application (34KB - page complexe).</p>"},{"location":"architecture/frontend/#loginjsx","title":"Login.jsx","text":"<p>Formulaire de connexion avec : - Champs email et mot de passe - Validation c\u00f4t\u00e9 client - Lien vers inscription et r\u00e9cup\u00e9ration mot de passe</p>"},{"location":"architecture/frontend/#register_userjsx-register_projsx","title":"Register_User.jsx / Register_Pro.jsx","text":"<p>Formulaires d'inscription avec : - Register_User : Inscription pour les \u00e9tudiants/utilisateurs - Register_Pro : Inscription pour les entreprises/professionnels - Int\u00e9gration OAuth Google - Validation des champs</p>"},{"location":"architecture/frontend/#choice_registerjsx","title":"Choice_Register.jsx","text":"<p>Page de choix du type d'inscription (7KB - interface de s\u00e9lection).</p>"},{"location":"architecture/frontend/#contactjsx","title":"Contact.jsx","text":"<p>Page de contact pour communiquer avec l'\u00e9quipe.</p>"},{"location":"architecture/frontend/#pageresultatrecherchejsx","title":"PageResultatRecherche.jsx","text":"<p>Affichage des r\u00e9sultats de recherche (18KB - page complexe avec filtres et r\u00e9sultats).</p>"},{"location":"architecture/frontend/#dashboard-entreprise","title":"Dashboard Entreprise","text":"<p>Le dashboard entreprise utilise un syst\u00e8me de navigation par sections avec \u00e9tat local.</p> <p>Structure (<code>/home/baptiste/VsCode/Book-By-Click-Source/src/pages/dashboard/Dashboard_Entreprise.jsx</code>) :</p> <pre><code>import { useState } from 'react'\nimport Header from '../../components/Header'\nimport DashboardContent from './sections/Dashboard_Content'\nimport CalendarContent from './sections/Calendar_Content'\nimport ClientsContent from './sections/Clients_Content'\nimport StatisticsContent from './sections/Statistics_Content'\n\nconst Dashboard_entreprises = () =&gt; {\n  const [activeSection, setActiveSection] = useState('dashboard')\n\n  const renderContent = () =&gt; {\n    switch(activeSection) {\n      case 'dashboard': return &lt;DashboardContent /&gt;\n      case 'calendar': return &lt;CalendarContent /&gt;\n      case 'clients': return &lt;ClientsContent /&gt;\n      case 'statistics': return &lt;StatisticsContent /&gt;\n      default: return &lt;DashboardContent /&gt;\n    }\n  }\n\n  return (\n    &lt;div className=\"min-h-screen bg-gray-50\"&gt;\n      &lt;Header\n        activeSection={activeSection}\n        setActiveSection={setActiveSection}\n      /&gt;\n      &lt;main className=\"w-full mx-auto px-6 py-8\"&gt;\n        &lt;div className=\"max-w-7xl mx-auto\"&gt;\n          {renderContent()}\n        &lt;/div&gt;\n      &lt;/main&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre> <p>Sections disponibles :</p> <ul> <li>Dashboard_Content : Vue d'ensemble avec KPIs</li> <li>Calendar_Content : Calendrier des r\u00e9servations</li> <li>Clients_Content : Liste et gestion des clients</li> <li>Statistics_Content : Statistiques et graphiques d\u00e9taill\u00e9s (22KB)</li> <li>\u00c9volution du CA (LineChart)</li> <li>R\u00e9partition par service (PieChart)</li> <li>R\u00e9servations par service (BarChart)</li> <li>Taux de remplissage (AreaChart)</li> <li>Satisfaction clients (RadarChart)</li> <li>Objectifs vs R\u00e9alisation</li> </ul>"},{"location":"architecture/frontend/#composants-reutilisables","title":"Composants r\u00e9utilisables","text":""},{"location":"architecture/frontend/#headerjsx","title":"Header.jsx","text":"<p>Header de navigation avec : - Logo et branding \"Book By Click\" - Ic\u00f4ne calendrier (@heroicons/react) - Barre de recherche - Navigation responsive - Menu burger pour mobile - Avatar utilisateur (UserAvatar) - Onglets de navigation pour le dashboard :   - Tableau de bord   - Calendrier   - R\u00e9servations   - Clients   - Statistiques</p> <p>Props : - <code>activeSection</code> : Section active actuelle - <code>setActiveSection</code> : Fonction pour changer de section</p>"},{"location":"architecture/frontend/#useravatarjsx","title":"UserAvatar.jsx","text":"<p>Avatar utilisateur avec dropdown menu :</p> <pre><code>export default function UserAvatarSimple({\n  user = {name: \"Utilisateur\", email: \"user@bookbyclick.com\"}\n}) {\n  // G\u00e9n\u00e9ration des initiales\n  // Menu d\u00e9roulant avec :\n  // - Mon profil\n  // - Param\u00e8tres\n  // - Aide\n  // - D\u00e9connexion\n}\n</code></pre> <p>Fonctionnalit\u00e9s : - Affichage des initiales - Indicateur de pr\u00e9sence (point vert) - Menu d\u00e9roulant responsive - Fermeture automatique au clic ext\u00e9rieur - Ic\u00f4nes Lucide React</p>"},{"location":"architecture/frontend/#calendarjsx","title":"Calendar.jsx","text":"<p>Composant calendrier principal utilisant le hook <code>useCalendar</code> :</p> <pre><code>export default function Calendar() {\n  const {\n    date,\n    view,\n    events,\n    setDate,\n    setView,\n    handlePrevious,\n    handleNext,\n    handleToday,\n  } = useCalendar()\n\n  return (\n    &lt;&gt;\n      &lt;div className=\"flex items-center justify-between mb-6\"&gt;\n        &lt;div&gt;\n          &lt;h2&gt;{format(date, \"MMMM yyyy\", {locale: fr})}&lt;/h2&gt;\n          &lt;p&gt;Semaine {format(date, \"w\", {locale: fr})}&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div className=\"flex items-center gap-3\"&gt;\n          &lt;NavigationButtons /&gt;\n          &lt;ViewDropdown view={view} onViewChange={setView} /&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      {view === \"week\" ? &lt;WeekView /&gt; : &lt;MonthView /&gt;}\n    &lt;/&gt;\n  )\n}\n</code></pre> <p>Sous-composants : - MonthView : Vue mensuelle du calendrier - WeekView : Vue hebdomadaire du calendrier - NavigationButtons : Boutons Pr\u00e9c\u00e9dent/Aujourd'hui/Suivant - ViewDropdown : S\u00e9lecteur de vue (mois/semaine)</p>"},{"location":"architecture/frontend/#formsjsx","title":"forms.jsx","text":"<p>Composant de formulaire g\u00e9n\u00e9rique avec : - Champs texte, email, password - Validation des champs - Int\u00e9gration OAuth Google - Soumission vers API Flask</p>"},{"location":"architecture/frontend/#custom-hooks","title":"Custom Hooks","text":""},{"location":"architecture/frontend/#usecalendarjsx","title":"useCalendar.jsx","text":"<p>Hook personnalis\u00e9 pour la gestion du calendrier :</p> <pre><code>export function useCalendar() {\n  const [date, setDate] = useState(new Date())\n  const [view, setView] = useState(\"month\")\n  const events = []\n\n  const handlePrevious = () =&gt; {\n    if (view === \"month\") {\n      setDate(subMonths(date, 1))\n    } else {\n      setDate(subWeeks(date, 1))\n    }\n  }\n\n  const handleNext = () =&gt; {\n    if (view === \"month\") {\n      setDate(addMonths(date, 1))\n    } else {\n      setDate(addWeeks(date, 1))\n    }\n  }\n\n  const handleToday = () =&gt; {\n    setDate(new Date())\n  }\n\n  return {\n    date,\n    view,\n    events,\n    setDate,\n    setView,\n    handlePrevious,\n    handleNext,\n    handleToday,\n  }\n}\n</code></pre> <p>Fonctionnalit\u00e9s : - Gestion de la date courante - Changement de vue (mois/semaine) - Navigation temporelle - Gestion des \u00e9v\u00e9nements (\u00e0 impl\u00e9menter)</p>"},{"location":"architecture/frontend/#gestion-de-letat","title":"Gestion de l'\u00e9tat","text":""},{"location":"architecture/frontend/#local-state","title":"Local State","text":"<p>Utilisation de <code>useState</code> pour l'\u00e9tat local des composants :</p> <pre><code>const [activeSection, setActiveSection] = useState('dashboard')\nconst [dateRange, setDateRange] = useState(\"30jours\")\nconst [isOpen, setIsOpen] = useState(false)\n</code></pre>"},{"location":"architecture/frontend/#effects","title":"Effects","text":"<p>Utilisation de <code>useEffect</code> pour les side effects :</p> <pre><code>useEffect(() =&gt; {\n  const handleClickOutside = e =&gt; {\n    if (dropdownRef.current &amp;&amp; !dropdownRef.current.contains(e.target)) {\n      setIsOpen(false)\n    }\n  }\n  document.addEventListener(\"mousedown\", handleClickOutside)\n  return () =&gt; document.removeEventListener(\"mousedown\", handleClickOutside)\n}, [])\n</code></pre>"},{"location":"architecture/frontend/#styling-avec-tailwind","title":"Styling avec Tailwind","text":""},{"location":"architecture/frontend/#classes-utilitaires","title":"Classes utilitaires","text":"<p>Le projet utilise massivement Tailwind CSS avec :</p> <pre><code>&lt;div className=\"min-h-screen bg-gray-50\"&gt;\n  &lt;header className=\"text-base lg:text-sm bg-white border-b border-gray-200\"&gt;\n    &lt;button className=\"w-full px-4 py-2 text-white font-medium bg-indigo-600 hover:bg-indigo-500 active:bg-indigo-600 rounded-lg duration-150\"&gt;\n      Action\n    &lt;/button&gt;\n  &lt;/header&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"architecture/frontend/#responsive-design","title":"Responsive Design","text":"<p>Breakpoints utilis\u00e9s : - <code>sm:</code> - Small (640px+) - <code>md:</code> - Medium (768px+) - <code>lg:</code> - Large (1024px+) - <code>xl:</code> - Extra Large (1280px+)</p> <p>Exemple :</p> <pre><code>&lt;div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\"&gt;\n  &lt;div className=\"hidden lg:flex lg:flex-1 lg:items-center lg:gap-6\"&gt;\n    {/* Contenu desktop uniquement */}\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"architecture/frontend/#palette-de-couleurs","title":"Palette de couleurs","text":"<p>Couleurs principales utilis\u00e9es : - Indigo (<code>indigo-600</code>, <code>indigo-700</code>) : Couleur principale de marque - Gray : Backgrounds et textes (<code>gray-50</code>, <code>gray-100</code>, <code>gray-200</code>, etc.) - Emerald : Succ\u00e8s et positif (<code>emerald-600</code>, <code>emerald-100</code>) - Red : Erreurs et danger (<code>red-600</code>, <code>red-100</code>) - Blue : Informations (<code>blue-600</code>, <code>blue-100</code>) - Amber/Yellow : Warnings et \u00e9valuations (<code>amber-600</code>, <code>yellow-100</code>)</p>"},{"location":"architecture/frontend/#scripts-npm","title":"Scripts npm","text":""},{"location":"architecture/frontend/#developpement","title":"D\u00e9veloppement","text":"<pre><code># Frontend uniquement\nnpm run dev\n\n# Frontend + API (Linux)\nnpm run dev:lin\n\n# Frontend + API (Windows)\nnpm run dev:win\n\n# Database + API + Frontend\nnpm run dev:all\n</code></pre> <p>Script <code>dev:lin</code> : <pre><code>\"concurrently --kill-others-on-fail false \\\"npm run api\\\" \\\"npm run web\\\"\"\n</code></pre></p> <p>Script <code>dev:win</code> : <pre><code>\"concurrently --kill-others-on-fail false \\\"npm run api:win\\\" \\\"npm run web\\\"\"\n</code></pre></p>"},{"location":"architecture/frontend/#production","title":"Production","text":"<pre><code># Build\nnpm run build\n\n# Preview\nnpm run preview\n</code></pre>"},{"location":"architecture/frontend/#linting","title":"Linting","text":"<pre><code>npm run lint\n</code></pre> <p>Configuration ESLint : - <code>@eslint/js 9.39.1</code> - <code>eslint-plugin-react-hooks 7.0.1</code> - <code>eslint-plugin-react-refresh 0.4.24</code></p>"},{"location":"architecture/frontend/#build-optimisation","title":"Build &amp; Optimisation","text":""},{"location":"architecture/frontend/#developpement_1","title":"D\u00e9veloppement","text":"<p>Le serveur de d\u00e9veloppement Vite d\u00e9marre sur le port 5173 (par d\u00e9faut) avec : - Hot Module Replacement (HMR) - Fast Refresh pour React - CSS HMR</p>"},{"location":"architecture/frontend/#production_1","title":"Production","text":"<pre><code>npm run build\n</code></pre> <p>G\u00e9n\u00e8re les fichiers optimis\u00e9s dans <code>dist/</code> : - Minification JavaScript et CSS - Tree shaking automatique - Code splitting - Asset optimization - Hash des fichiers pour cache busting</p>"},{"location":"architecture/frontend/#configuration-vite","title":"Configuration Vite","text":"<p>Plugins utilis\u00e9s : - <code>@vitejs/plugin-react 5.1.1</code> : Support React avec Fast Refresh - <code>@tailwindcss/vite 4.1.17</code> : Int\u00e9gration Tailwind CSS</p> <p>Build tool : - Vite utilise <code>rolldown-vite@7.2.5</code> (override dans package.json)</p>"},{"location":"architecture/frontend/#integration-api","title":"Int\u00e9gration API","text":""},{"location":"architecture/frontend/#configuration","title":"Configuration","text":"<p>L'application communique avec le backend Flask :</p> <pre><code>// Action de formulaire (forms.jsx)\n&lt;form action=\"http://localhost:5000/register_form\" method=\"POST\"&gt;\n</code></pre> <p>Note : L'int\u00e9gration API utilise actuellement des formulaires HTML standards. Une refonte avec <code>fetch</code> ou <code>axios</code> est recommand\u00e9e.</p>"},{"location":"architecture/frontend/#variables-denvironnement","title":"Variables d'environnement","text":"<p>Configuration sugg\u00e9r\u00e9e dans <code>.env</code> :</p> <pre><code>VITE_API_URL=http://localhost:5000\n</code></pre> <p>Utilisation :</p> <pre><code>const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000'\n</code></pre>"},{"location":"architecture/frontend/#performance","title":"Performance","text":""},{"location":"architecture/frontend/#optimisations-implementees","title":"Optimisations impl\u00e9ment\u00e9es","text":"<ul> <li>Composants fonctionnels : Tous les composants utilisent les hooks</li> <li>Code splitting : Lazy loading possible (\u00e0 impl\u00e9menter)</li> <li>CSS optimis\u00e9 : Tailwind JIT pour CSS minimal</li> <li>Asset optimization : Vite optimise automatiquement les assets</li> </ul>"},{"location":"architecture/frontend/#optimisations-suggerees","title":"Optimisations sugg\u00e9r\u00e9es","text":"<ol> <li>Lazy loading des routes :</li> </ol> <pre><code>import { lazy, Suspense } from 'react'\n\nconst Dashboard = lazy(() =&gt; import('./pages/dashboard/Dashboard_Entreprise'))\n\n&lt;Suspense fallback={&lt;div&gt;Loading...&lt;/div&gt;}&gt;\n  &lt;Route path=\"/dashboard\" element={&lt;Dashboard /&gt;} /&gt;\n&lt;/Suspense&gt;\n</code></pre> <ol> <li>M\u00e9mo\u00efsation :</li> </ol> <pre><code>import { useMemo, useCallback } from 'react'\n\nconst filteredData = useMemo(() =&gt; filterData(data), [data])\nconst handleClick = useCallback(() =&gt; doSomething(), [])\n</code></pre> <ol> <li>React.memo pour composants purs :</li> </ol> <pre><code>export default React.memo(MonthView)\n</code></pre>"},{"location":"architecture/frontend/#bonnes-pratiques","title":"Bonnes pratiques","text":"<ol> <li>Composants fonctionnels avec hooks uniquement</li> <li>Structure : Un composant par fichier</li> <li>Nomenclature : PascalCase pour composants, camelCase pour fonctions</li> <li>Imports : Imports absolus depuis <code>/src</code></li> <li>Tailwind : Classes utilitaires plut\u00f4t que CSS custom</li> <li>Accessibilit\u00e9 : Utilisation de balises s\u00e9mantiques HTML</li> <li>Responsive : Mobile-first avec breakpoints Tailwind</li> </ol>"},{"location":"architecture/frontend/#points-damelioration","title":"Points d'am\u00e9lioration","text":""},{"location":"architecture/frontend/#securite-et-bonnes-pratiques","title":"S\u00e9curit\u00e9 et bonnes pratiques","text":"<ol> <li>Validation des formulaires : Ajouter une validation c\u00f4t\u00e9 client robuste</li> <li>Gestion d'erreurs : Impl\u00e9menter un syst\u00e8me de gestion d'erreurs global</li> <li>Loading states : Ajouter des indicateurs de chargement</li> <li>Error boundaries : Impl\u00e9menter des error boundaries React</li> <li>TypeScript : Migrer vers TypeScript pour la type safety</li> </ol>"},{"location":"architecture/frontend/#architecture","title":"Architecture","text":"<ol> <li>State management : Consid\u00e9rer Context API ou Zustand pour l'\u00e9tat global</li> <li>API client : Cr\u00e9er un client API centralis\u00e9 avec <code>fetch</code> ou <code>axios</code></li> <li>Authentification : Impl\u00e9menter un syst\u00e8me d'auth avec tokens JWT</li> <li>Tests : Ajouter des tests unitaires et d'int\u00e9gration (Vitest + Testing Library)</li> <li>Routes prot\u00e9g\u00e9es : Impl\u00e9menter la protection des routes authentifi\u00e9es</li> </ol>"},{"location":"architecture/frontend/#performance_1","title":"Performance","text":"<ol> <li>Lazy loading : Charger les routes \u00e0 la demande</li> <li>Image optimization : Optimiser les images</li> <li>Bundle analysis : Analyser et r\u00e9duire la taille du bundle</li> </ol>"},{"location":"architecture/frontend/#prochaines-etapes","title":"Prochaines \u00e9tapes","text":"<ul> <li>Backend Flask</li> <li>Base de donn\u00e9es</li> <li>Guide de d\u00e9veloppement</li> </ul>"},{"location":"architecture/overview/","title":"Architecture - Vue d'ensemble","text":"<p>Projet GitHub : https://github.com/TISEPSE/Book-By-Click.git</p>"},{"location":"architecture/overview/#schema-global","title":"Sch\u00e9ma global","text":"<pre><code>graph TB\n    A[Navigateur] --&gt;|HTTP| B[React App&lt;br/&gt;Port 5173]\n    B --&gt;|API Calls| C[Flask API&lt;br/&gt;Port 5000]\n    C --&gt;|SQL| D[(PostgreSQL 15&lt;br/&gt;Port 5432)]\n    C --&gt;|SMTP| E[Mail Server&lt;br/&gt;Port 25]\n\n    F[Docker] -.-&gt;|Container| D\n    F -.-&gt;|Container| E\n\n    style A fill:#e1f5ff\n    style B fill:#61dafb\n    style C fill:#000\n    style D fill:#4479a1\n    style E fill:#10b981</code></pre>"},{"location":"architecture/overview/#stack-technologique","title":"Stack technologique","text":""},{"location":"architecture/overview/#frontend","title":"Frontend","text":"Technologie Version R\u00f4le React 19.2.0 Framework UI Vite 7.2.5 (rolldown) Build tool React Router 7.10.1 Routing Tailwind CSS 4.1.17 Styling Recharts 3.5.1 Graphiques date-fns 4.1.0 Dates"},{"location":"architecture/overview/#backend","title":"Backend","text":"Technologie Version R\u00f4le Flask Latest Framework web SQLAlchemy Latest ORM PostgreSQL 15 Base de donn\u00e9es Docker Compose Latest Orchestration"},{"location":"architecture/overview/#architecture-en-couches","title":"Architecture en couches","text":""},{"location":"architecture/overview/#1-presentation-frontend","title":"1. Pr\u00e9sentation (Frontend)","text":"<pre><code>src/\n\u251c\u2500\u2500 pages/              # Pages de l'application\n\u2502   \u251c\u2500\u2500 Home.jsx\n\u2502   \u251c\u2500\u2500 Login.jsx\n\u2502   \u251c\u2500\u2500 Register_User.jsx\n\u2502   \u251c\u2500\u2500 Register_Pro.jsx\n\u2502   \u2514\u2500\u2500 dashboard_entreprise/\n\u251c\u2500\u2500 components/         # Composants r\u00e9utilisables\n\u2502   \u2514\u2500\u2500 Header.jsx\n\u251c\u2500\u2500 Hook/              # Custom hooks\n\u2502   \u2514\u2500\u2500 useForm.jsx\n\u251c\u2500\u2500 assets/            # Images, fichiers statiques\n\u2514\u2500\u2500 App.jsx            # Composant racine\n</code></pre>"},{"location":"architecture/overview/#2-application-backend","title":"2. Application (Backend)","text":"<pre><code>Backend/\n\u251c\u2500\u2500 app.py             # Point d'entr\u00e9e Flask\n\u251c\u2500\u2500 routes/            # Routes API (\u00e0 cr\u00e9er)\n\u251c\u2500\u2500 models/            # Mod\u00e8les de donn\u00e9es (\u00e0 cr\u00e9er)\n\u251c\u2500\u2500 services/          # Logique m\u00e9tier (\u00e0 cr\u00e9er)\n\u2514\u2500\u2500 db/               # Configuration base de donn\u00e9es\n    \u2514\u2500\u2500 docker-compose.yml\n</code></pre>"},{"location":"architecture/overview/#3-donnees","title":"3. Donn\u00e9es","text":"<p>PostgreSQL 15 avec 9 tables :</p> <ul> <li><code>typeutilisateur</code> - Types d'utilisateurs</li> <li><code>utilisateur</code> - Utilisateurs (clients et pros)</li> <li><code>entreprise</code> - Entreprises</li> <li><code>prestation</code> - Services offerts</li> <li><code>creneau</code> - Cr\u00e9neaux horaires</li> <li><code>reservation</code> - R\u00e9servations</li> <li><code>evenement</code> - \u00c9v\u00e9nements</li> <li><code>semainetype</code> - Semaines types</li> <li><code>eventemail</code> - \u00c9v\u00e9nements email</li> </ul>"},{"location":"architecture/overview/#communication-frontend-backend","title":"Communication Frontend-Backend","text":"<p>API REST : <code>http://localhost:5000</code></p> <p>Format : JSON et form-data selon les endpoints</p> <p>6 endpoints disponibles : - POST <code>/register_form</code> - Inscription - POST <code>/login_form</code> - Connexion - POST <code>/teste</code> - R\u00e9cup\u00e9rer utilisateur - POST <code>/contact</code> - Formulaire contact - GET <code>/api/services</code> - Autocompl\u00e9tion services - GET <code>/api/villes</code> - Autocompl\u00e9tion villes</p> <p>Voir la documentation API compl\u00e8te.</p>"},{"location":"architecture/overview/#gestion-de-letat","title":"Gestion de l'\u00e9tat","text":"<p>Frontend : - React Hooks (useState, useEffect) - Custom Hook useCalendar pour le calendrier - \u00c9tat local des composants</p> <p>Backend : - SQLAlchemy ORM - Factory pattern (<code>create_app()</code>) - Single blueprint architecture</p>"},{"location":"architecture/overview/#services-docker","title":"Services Docker","text":"<p>PostgreSQL (port 5432) : - Image: postgres:15 - User: appuser - Database: appdb</p> <p>SMTP (port 25) : - Relay: smtp.gmail.com:587 - Configuration dans <code>Backend/src/docker-compose.yml</code></p>"},{"location":"architecture/overview/#environnements","title":"Environnements","text":"Env Frontend Backend Database Dev localhost:5173 localhost:5000 Docker PostgreSQL Prod Serveur web Flask + Nginx PostgreSQL"},{"location":"architecture/overview/#prochaines-etapes","title":"Prochaines \u00e9tapes","text":"<ul> <li>Architecture Frontend - D\u00e9tails React</li> <li>Architecture Backend - D\u00e9tails Flask</li> <li>Base de donn\u00e9es - Sch\u00e9ma SQL</li> </ul>"},{"location":"development/contributing/","title":"Guide de contribution","text":""},{"location":"development/contributing/#workflow","title":"Workflow","text":""},{"location":"development/contributing/#1-fork-et-clone","title":"1. Fork et clone","text":"<pre><code>git clone https://github.com/votre-username/Projet-BTS-Alan-Maxime-Tisba.git\ncd Projet-BTS-Alan-Maxime-Tisba\n</code></pre>"},{"location":"development/contributing/#2-creer-une-branche","title":"2. Cr\u00e9er une branche","text":"<pre><code>git checkout -b feature/ma-fonctionnalite\n# ou\ngit checkout -b fix/mon-bug\n</code></pre>"},{"location":"development/contributing/#3-developper","title":"3. D\u00e9velopper","text":"<p>Faites vos modifications en suivant les conventions.</p>"},{"location":"development/contributing/#4-commit","title":"4. Commit","text":"<pre><code>git add .\ngit commit -m \"feat: ajouter fonctionnalit\u00e9 X\"\n</code></pre>"},{"location":"development/contributing/#convention-de-commit","title":"Convention de commit","text":"<pre><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\n\n&lt;body&gt;\n</code></pre> <p>Types: - <code>feat</code>: Nouvelle fonctionnalit\u00e9 - <code>fix</code>: Correction de bug - <code>docs</code>: Documentation - <code>style</code>: Formatage - <code>refactor</code>: Refactorisation - <code>test</code>: Tests - <code>chore</code>: Maintenance</p> <p>Exemples: <pre><code>feat(auth): ajouter connexion Google\nfix(reservation): corriger validation date\ndocs(api): documenter endpoint /users\n</code></pre></p>"},{"location":"development/contributing/#5-push","title":"5. Push","text":"<pre><code>git push origin feature/ma-fonctionnalite\n</code></pre>"},{"location":"development/contributing/#6-pull-request","title":"6. Pull Request","text":"<ol> <li>Cr\u00e9ez une PR sur GitHub</li> <li>D\u00e9crivez vos changements</li> <li>Attendez la review</li> </ol>"},{"location":"development/contributing/#standards-de-code","title":"Standards de code","text":""},{"location":"development/contributing/#frontend-react","title":"Frontend (React)","text":"<pre><code>// \u2705 Bon\nexport default function MyComponent({ title, onClick }) {\n  const [isOpen, setIsOpen] = useState(false)\n\n  return (\n    &lt;div className=\"p-4\"&gt;\n      &lt;h1&gt;{title}&lt;/h1&gt;\n      &lt;button onClick={onClick}&gt;Click&lt;/button&gt;\n    &lt;/div&gt;\n  )\n}\n\n// \u274c Mauvais\nfunction myComponent(props) {\n  var open = false\n  return &lt;div&gt;&lt;h1&gt;{props.title}&lt;/h1&gt;&lt;/div&gt;\n}\n</code></pre>"},{"location":"development/contributing/#backend-python","title":"Backend (Python)","text":"<pre><code># \u2705 Bon\ndef create_user(email: str, password: str) -&gt; dict:\n    \"\"\"Cr\u00e9er un nouvel utilisateur.\n\n    Args:\n        email: Email de l'utilisateur\n        password: Mot de passe (sera hash\u00e9)\n\n    Returns:\n        dict: Utilisateur cr\u00e9\u00e9\n\n    Raises:\n        ValueError: Si l'email existe d\u00e9j\u00e0\n    \"\"\"\n    if User.find_by_email(email):\n        raise ValueError(\"Email already exists\")\n\n    hashed_password = generate_password_hash(password)\n    user = User.create(email, hashed_password)\n    return user\n\n# \u274c Mauvais\ndef CreateUser(e,p):\n    u=User.create(e,p)\n    return u\n</code></pre>"},{"location":"development/contributing/#tests","title":"Tests","text":""},{"location":"development/contributing/#frontend","title":"Frontend","text":"<pre><code>import { render, screen } from '@testing-library/react'\nimport MyComponent from './MyComponent'\n\ndescribe('MyComponent', () =&gt; {\n  it('renders title', () =&gt; {\n    render(&lt;MyComponent title=\"Test\" /&gt;)\n    expect(screen.getByText('Test')).toBeInTheDocument()\n  })\n})\n</code></pre>"},{"location":"development/contributing/#backend","title":"Backend","text":"<pre><code>def test_create_user():\n    user = UserService.create_user({\n        'email': 'test@example.com',\n        'password': 'password123'\n    })\n    assert user['email'] == 'test@example.com'\n</code></pre>"},{"location":"development/contributing/#checklist-pr","title":"Checklist PR","text":"<p>Avant de soumettre :</p> <ul> <li>[ ] Code test\u00e9 localement</li> <li>[ ] Tests ajout\u00e9s/mis \u00e0 jour</li> <li>[ ] Pas d'erreurs de linting</li> <li>[ ] Documentation mise \u00e0 jour</li> <li>[ ] Commits clairs et atomiques</li> <li>[ ] Branch \u00e0 jour avec main</li> </ul>"},{"location":"development/contributing/#style-guide","title":"Style Guide","text":""},{"location":"development/contributing/#javascriptreact","title":"JavaScript/React","text":"<ul> <li>Utiliser <code>const</code> par d\u00e9faut</li> <li>Hooks en haut du composant</li> <li>PropTypes ou TypeScript</li> <li>Noms de composants en PascalCase</li> <li>Fonctions en camelCase</li> </ul>"},{"location":"development/contributing/#python","title":"Python","text":"<ul> <li>PEP 8</li> <li>Type hints</li> <li>Docstrings</li> <li>snake_case pour fonctions/variables</li> <li>PascalCase pour classes</li> </ul>"},{"location":"development/contributing/#documentation","title":"Documentation","text":"<p>Mettez \u00e0 jour la documentation si vous :</p> <ul> <li>Ajoutez une nouvelle page</li> <li>Modifiez une route API</li> <li>Changez la structure du projet</li> <li>Ajoutez une d\u00e9pendance</li> </ul>"},{"location":"development/contributing/#questions","title":"Questions","text":"<p>Si vous avez des questions :</p> <ul> <li>Ouvrez une issue</li> <li>Demandez dans les discussions</li> <li>Contactez les mainteneurs</li> </ul>"},{"location":"development/getting-started/","title":"Guide de d\u00e9veloppement","text":"<p>Projet GitHub : https://github.com/TISEPSE/Book-By-Click.git</p>"},{"location":"development/getting-started/#installation-rapide","title":"Installation rapide","text":"<p>Voir le Guide d'installation complet.</p> <pre><code>git clone https://github.com/TISEPSE/Book-By-Click.git\ncd Book-By-Click\nnpm install\ncd Backend &amp;&amp; python -m venv ../venv &amp;&amp; source ../venv/bin/activate\npip install flask flask-sqlalchemy flask-cors psycopg2-binary python-dotenv\ncd .. &amp;&amp; npm run dev:lin  # ou dev:win pour Windows\n</code></pre>"},{"location":"development/getting-started/#developper-une-nouvelle-fonctionnalite","title":"D\u00e9velopper une nouvelle fonctionnalit\u00e9","text":""},{"location":"development/getting-started/#1-structure-du-projet","title":"1. Structure du projet","text":"<p>Frontend (<code>src/</code>): <pre><code>src/\n\u251c\u2500\u2500 pages/          # Pages de l'application (11 routes)\n\u251c\u2500\u2500 components/     # Composants r\u00e9utilisables\n\u251c\u2500\u2500 Hook/           # Custom hooks (useCalendar, etc.)\n\u2514\u2500\u2500 App.jsx         # Routes principales\n</code></pre></p> <p>Backend (<code>Backend/src/</code>): <pre><code>Backend/src/\n\u251c\u2500\u2500 app.py          # Application Flask (factory pattern)\n\u251c\u2500\u2500 pages.py        # Blueprint avec tous les endpoints\n\u251c\u2500\u2500 models.py       # Mod\u00e8les SQLAlchemy (9 tables)\n\u251c\u2500\u2500 extension.py    # Extensions (db, cors)\n\u2514\u2500\u2500 data/           # Fichiers JSON (services, villes)\n</code></pre></p>"},{"location":"development/getting-started/#2-ajouter-une-page-frontend","title":"2. Ajouter une page frontend","text":"<p>a) Cr\u00e9er le composant dans <code>src/pages/</code> :</p> <pre><code>// src/pages/MaNouvellePage.jsx\nimport React from 'react';\n\nexport default function MaNouvellePage() {\n  return (\n    &lt;div className=\"p-6\"&gt;\n      &lt;h1 className=\"text-2xl font-bold\"&gt;Ma nouvelle page&lt;/h1&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre> <p>b) Ajouter la route dans <code>src/App.jsx</code> :</p> <pre><code>import MaNouvellePage from './pages/MaNouvellePage';\n\n// Dans les routes :\n&lt;Route path=\"/ma-page\" element={&lt;MaNouvellePage /&gt;} /&gt;\n</code></pre>"},{"location":"development/getting-started/#3-ajouter-un-endpoint-api","title":"3. Ajouter un endpoint API","text":"<p>\u00c9diter <code>Backend/src/pages.py</code> :</p> <pre><code>@pages_blueprint.route('/api/mon-endpoint', methods=['POST'])\ndef mon_endpoint():\n    data = request.get_json()\n    # Traitement...\n    return jsonify({\"success\": True, \"data\": result})\n</code></pre> <p>Appeler depuis le frontend :</p> <pre><code>const response = await fetch('http://localhost:5000/api/mon-endpoint', {\n  method: 'POST',\n  headers: { 'Content-Type': 'application/json' },\n  body: JSON.stringify({ param: 'valeur' })\n});\nconst data = await response.json();\n</code></pre>"},{"location":"development/getting-started/#4-ajouter-un-modele-de-base-de-donnees","title":"4. Ajouter un mod\u00e8le de base de donn\u00e9es","text":"<p>\u00c9diter <code>Backend/src/models.py</code> :</p> <pre><code>class MonModele(db.Model):\n    __tablename__ = 'mon_modele'\n\n    id = db.Column(db.Integer, primary_key=True)\n    nom = db.Column(db.String(100), nullable=False)\n\n    def to_dict(self):\n        return {\n            'id': self.id,\n            'nom': self.nom\n        }\n</code></pre> <p>Les tables sont cr\u00e9\u00e9es automatiquement au d\u00e9marrage de Flask (<code>db.create_all()</code>).</p>"},{"location":"development/getting-started/#5-tester-vos-modifications","title":"5. Tester vos modifications","text":"<pre><code># Tester un endpoint\ncurl http://localhost:5000/api/mon-endpoint\n\n# V\u00e9rifier la base de donn\u00e9es\ndocker exec -it db psql -U appuser -d appdb\n\\dt  # Lister les tables\nSELECT * FROM mon_modele;\n</code></pre>"},{"location":"development/getting-started/#services-disponibles","title":"Services disponibles","text":""},{"location":"development/getting-started/#postgresql-port-5432","title":"PostgreSQL (port 5432)","text":"<pre><code># Connexion\ndocker exec -it db psql -U appuser -d appdb\n\n# Voir les logs\ndocker logs db\n</code></pre>"},{"location":"development/getting-started/#smtp-port-25","title":"SMTP (port 25)","text":"<p>Serveur SMTP configur\u00e9 dans <code>Backend/src/docker-compose.yml</code> pour l'envoi d'emails.</p> <p>Configuration : - Relay: smtp.gmail.com:587 - Voir <code>Backend/src/mailer.py</code> pour l'utilisation</p>"},{"location":"development/getting-started/#hot-reload","title":"Hot reload","text":"<ul> <li>Frontend : Vite recharge automatiquement</li> <li>Backend : Flask recharge automatiquement en mode d\u00e9veloppement</li> </ul>"},{"location":"development/getting-started/#conventions-de-code","title":"Conventions de code","text":"<p>Frontend : - Composants : PascalCase (<code>MaPage.jsx</code>) - Hooks : camelCase avec \"use\" (<code>useCalendar.jsx</code>) - Tailwind CSS pour le style</p> <p>Backend : - Fichiers : snake_case (<code>my_file.py</code>) - Classes : PascalCase (<code>MyModel</code>) - Variables/fonctions : snake_case (<code>my_function</code>)</p> <p>Git : <pre><code>git checkout -b feature/ma-fonctionnalite\ngit commit -m \"feat: ajouter ma fonctionnalit\u00e9\"\ngit commit -m \"fix: corriger le bug\"\n</code></pre></p>"},{"location":"development/structure/","title":"Structure du projet","text":""},{"location":"development/structure/#vue-densemble","title":"Vue d'ensemble","text":"<pre><code>Projet-BTS-Alan-Maxime-Tisba/\n\u251c\u2500\u2500 Backend/                # API Flask\n\u251c\u2500\u2500 src/                    # Application React\n\u251c\u2500\u2500 Docs/                   # Documentation\n\u251c\u2500\u2500 package.json            # Config npm\n\u2514\u2500\u2500 vite.config.js         # Config Vite\n</code></pre>"},{"location":"development/structure/#frontend-src","title":"Frontend (src/)","text":"<pre><code>src/\n\u251c\u2500\u2500 App.jsx                         # Composant racine + routing\n\u251c\u2500\u2500 main.jsx                        # Point d'entr\u00e9e\n\u2502\n\u251c\u2500\u2500 pages/                          # Pages de l'application\n\u2502   \u251c\u2500\u2500 Home.jsx                   # Page d'accueil\n\u2502   \u251c\u2500\u2500 Login.jsx                  # Connexion\n\u2502   \u251c\u2500\u2500 Recap.jsx                  # R\u00e9capitulatif\n\u2502   \u251c\u2500\u2500 Forgot_password.jsx        # Mot de passe oubli\u00e9\n\u2502   \u251c\u2500\u2500 Choice_Register.jsx        # Choix type inscription\n\u2502   \u251c\u2500\u2500 Register_User.jsx          # Inscription \u00e9tudiant\n\u2502   \u251c\u2500\u2500 Register_Pro.jsx           # Inscription entreprise\n\u2502   \u251c\u2500\u2500 Teste_form.jsx             # Test formulaire\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 dashboard_entreprise/      # Dashboard entreprise\n\u2502       \u251c\u2500\u2500 Dashboard_Entreprise.jsx\n\u2502       \u2514\u2500\u2500 sections/\n\u2502           \u251c\u2500\u2500 Dashboard_Content.jsx    # Vue d'ensemble\n\u2502           \u251c\u2500\u2500 Calendar_Content.jsx     # Calendrier\n\u2502           \u251c\u2500\u2500 Clients_Content.jsx      # Gestion clients\n\u2502           \u251c\u2500\u2500 Statistics_Content.jsx   # Statistiques\n\u2502           \u2514\u2500\u2500 Reservations_Content.jsx # Gestion r\u00e9servations\n\u2502\n\u251c\u2500\u2500 components/                     # Composants r\u00e9utilisables\n\u2502   \u2514\u2500\u2500 Header.jsx                 # En-t\u00eate navigation\n\u2502\n\u251c\u2500\u2500 Hook/                           # Custom hooks\n\u2502   \u2514\u2500\u2500 useForm.jsx                # Hook formulaire\n\u2502\n\u251c\u2500\u2500 assets/                         # Images, fonts\n\u2514\u2500\u2500 static/                         # Ressources publiques\n</code></pre>"},{"location":"development/structure/#organisation-recommandee","title":"Organisation recommand\u00e9e","text":"<p>Pour une meilleure scalabilit\u00e9 :</p> <pre><code>src/\n\u251c\u2500\u2500 features/              # Organisation par feature\n\u2502   \u251c\u2500\u2500 auth/\n\u2502   \u2502   \u251c\u2500\u2500 Login.jsx\n\u2502   \u2502   \u251c\u2500\u2500 Register.jsx\n\u2502   \u2502   \u2514\u2500\u2500 hooks/\n\u2502   \u2502       \u2514\u2500\u2500 useAuth.js\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 reservations/\n\u2502   \u2502   \u251c\u2500\u2500 ReservationList.jsx\n\u2502   \u2502   \u251c\u2500\u2500 ReservationForm.jsx\n\u2502   \u2502   \u2514\u2500\u2500 hooks/\n\u2502   \u2502       \u2514\u2500\u2500 useReservations.js\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 dashboard/\n\u2502       \u2514\u2500\u2500 ...\n\u2502\n\u251c\u2500\u2500 shared/                # Code partag\u00e9\n\u2502   \u251c\u2500\u2500 components/\n\u2502   \u251c\u2500\u2500 hooks/\n\u2502   \u251c\u2500\u2500 utils/\n\u2502   \u2514\u2500\u2500 api/\n\u2502\n\u2514\u2500\u2500 styles/               # Styles globaux\n</code></pre>"},{"location":"development/structure/#backend-backend","title":"Backend (Backend/)","text":""},{"location":"development/structure/#structure-actuelle","title":"Structure actuelle","text":"<pre><code>Backend/\n\u251c\u2500\u2500 app.py              # Application Flask\n\u251c\u2500\u2500 db/                 # Base de donn\u00e9es\n\u2502   \u2514\u2500\u2500 docker-compose.yml\n\u2514\u2500\u2500 __pycache__/        # Cache Python\n</code></pre>"},{"location":"development/structure/#structure-recommandee","title":"Structure recommand\u00e9e","text":"<pre><code>Backend/\n\u251c\u2500\u2500 app.py              # Point d'entr\u00e9e\n\u251c\u2500\u2500 config.py           # Configuration\n\u251c\u2500\u2500 requirements.txt    # D\u00e9pendances\n\u251c\u2500\u2500 .env               # Variables d'environnement\n\u2502\n\u251c\u2500\u2500 routes/            # Routes API\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 auth.py       # /api/auth/*\n\u2502   \u251c\u2500\u2500 users.py      # /api/users/*\n\u2502   \u251c\u2500\u2500 companies.py  # /api/companies/*\n\u2502   \u2514\u2500\u2500 reservations.py # /api/reservations/*\n\u2502\n\u251c\u2500\u2500 models/            # Mod\u00e8les de donn\u00e9es\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 user.py\n\u2502   \u251c\u2500\u2500 company.py\n\u2502   \u2514\u2500\u2500 reservation.py\n\u2502\n\u251c\u2500\u2500 services/          # Logique m\u00e9tier\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 auth_service.py\n\u2502   \u251c\u2500\u2500 reservation_service.py\n\u2502   \u2514\u2500\u2500 email_service.py\n\u2502\n\u251c\u2500\u2500 utils/             # Utilitaires\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 database.py   # Connexion DB\n\u2502   \u251c\u2500\u2500 validators.py # Validations\n\u2502   \u2514\u2500\u2500 decorators.py # Decorators\n\u2502\n\u251c\u2500\u2500 tests/             # Tests\n\u2502   \u251c\u2500\u2500 test_auth.py\n\u2502   \u2514\u2500\u2500 test_reservations.py\n\u2502\n\u2514\u2500\u2500 db/\n    \u251c\u2500\u2500 docker-compose.yml\n    \u251c\u2500\u2500 init.sql       # Script d'initialisation\n    \u2514\u2500\u2500 migrations/    # Migrations DB\n</code></pre>"},{"location":"development/structure/#configuration","title":"Configuration","text":""},{"location":"development/structure/#packagejson","title":"package.json","text":"<pre><code>{\n  \"name\": \"react-with-flask\",\n  \"version\": \"0.0.0\",\n  \"scripts\": {\n    \"dev\": \"vite\",\n    \"dev:lin\": \"concurrently ...\",\n    \"dev:win\": \"concurrently ...\",\n    \"dev:all\": \"concurrently ...\",\n    \"build\": \"vite build\",\n    \"preview\": \"vite preview\"\n  },\n  \"dependencies\": {\n    \"react\": \"^19.2.0\",\n    \"react-router-dom\": \"^7.9.6\",\n    \"tailwindcss\": \"^4.1.17\",\n    \"@heroicons/react\": \"^2.2.0\"\n  }\n}\n</code></pre>"},{"location":"development/structure/#viteconfigjs","title":"vite.config.js","text":"<pre><code>import { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react'\nimport tailwindcss from '@tailwindcss/vite'\n\nexport default defineConfig({\n  plugins: [react(), tailwindcss()],\n  server: {\n    port: 5173,\n    proxy: {\n      '/api': 'http://localhost:5000'\n    }\n  }\n})\n</code></pre>"},{"location":"development/structure/#patterns","title":"Patterns","text":""},{"location":"development/structure/#composants","title":"Composants","text":"<pre><code>// Composant fonctionnel simple\nexport default function MyComponent({ prop1, prop2 }) {\n  return &lt;div&gt;{prop1}&lt;/div&gt;\n}\n\n// Avec hooks\nexport default function MyComponent() {\n  const [state, setState] = useState(null)\n\n  useEffect(() =&gt; {\n    // Side effect\n  }, [])\n\n  return &lt;div&gt;{state}&lt;/div&gt;\n}\n</code></pre>"},{"location":"development/structure/#services","title":"Services","text":"<pre><code># Service pattern\nclass UserService:\n    @staticmethod\n    def get_user(user_id):\n        # Logic\n        pass\n\n    @staticmethod\n    def create_user(data):\n        # Logic\n        pass\n</code></pre>"},{"location":"development/structure/#routes","title":"Routes","text":"<pre><code># Blueprint pattern\nauth_bp = Blueprint('auth', __name__)\n\n@auth_bp.route('/login', methods=['POST'])\ndef login():\n    # Logic\n    pass\n\n# Dans app.py\napp.register_blueprint(auth_bp, url_prefix='/api/auth')\n</code></pre>"},{"location":"development/structure/#modules-tiers","title":"Modules tiers","text":""},{"location":"development/structure/#frontend","title":"Frontend","text":"<ul> <li><code>react</code> - Framework UI</li> <li><code>react-router-dom</code> - Routing</li> <li><code>tailwindcss</code> - CSS framework</li> <li><code>@heroicons/react</code> - Ic\u00f4nes</li> </ul>"},{"location":"development/structure/#backend","title":"Backend","text":"<ul> <li><code>flask</code> - Framework web</li> <li><code>flask-sqlalchemy</code> - ORM</li> <li><code>flask-cors</code> - CORS</li> <li><code>psycopg2-binary</code> - PostgreSQL driver</li> <li><code>python-dotenv</code> - Variables d'env</li> </ul>"},{"location":"development/structure/#prochaines-etapes","title":"Prochaines \u00e9tapes","text":"<ul> <li>Guide de d\u00e9marrage</li> <li>Contribution</li> </ul>"},{"location":"dossier-technique/Dossier-Technique-BTS/","title":"Dossier Technique","text":"<p>Cette section est r\u00e9serv\u00e9e pour le dossier technique du projet.</p>"},{"location":"dossier-technique/Dossier-Technique-BTS/#a-venir","title":"\u00c0 venir","text":"<p>Le contenu technique sera ajout\u00e9 ult\u00e9rieurement selon les besoins du projet.</p>"},{"location":"dossier-technique/referentiel/","title":"R\u00e9f\u00e9rentiel BTS","text":"<p>Cette section est r\u00e9serv\u00e9e pour le r\u00e9f\u00e9rentiel BTS du projet.</p>"},{"location":"dossier-technique/referentiel/#a-venir","title":"\u00c0 venir","text":"<p>Le r\u00e9f\u00e9rentiel sera ajout\u00e9 ult\u00e9rieurement selon les besoins du projet.</p>"}]}